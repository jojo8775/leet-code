(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[233],{"+QRC":function(e,t,n){"use strict";var r=n("E9nw"),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,i,c,s,l,u=!1;t||(t={}),n=t.debug||!1;try{if(i=r(),c=document.createRange(),s=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=o[t.format]||o.default;window.clipboardData.setData(a,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(l),c.selectNodeContents(l),s.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{s&&("function"==typeof s.removeRange?s.removeRange(c):s.removeAllRanges()),l&&document.body.removeChild(l),i()}return u}},"0e8D":function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n("vOnD"),o=n("uZsn"),a=Object(r.c)(["color:",";line-height:1.7;outline:none;a{text-decoration:none;color:",";}a:hover{color:",";}h1,h2,h3,h4,h5,h6{font-family:",";font-weight:600;}p{display:block;margin-top:1em;margin-bottom:1em;}"],(function(e){return e.theme.palette.grey.A400}),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.primary.dark}),o.x),i=Object(r.c)(["table,td,th{border:1px solid ",";font-weight:400;}table{border-collapse:collapse;margin:2em auto;table-layout:fixed;width:100%;}th,td{padding:15px;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;}th{background:",";}"],(function(e){return e.theme.palette.grey[300]}),(function(e){return e.theme.palette.primary.lightP2})),c=(r.d.div.withConfig({displayName:"Markdown",componentId:"sc-1j2yuel-0"})([""]),r.d.div.withConfig({displayName:"Markdown__Viewer",componentId:"sc-1j2yuel-1"})([""," "," font-family:",";font-size:18px;overflow-wrap:break-word;h1,h2,h3,h4,h5,h6{color:",";}strong{font-family:",";}li{margin-bottom:5px;}blockquote{background:",";border-left:5px solid ",";margin:1.5em 0.5em;padding:1px 20px 16px;overflow-x:scroll;}hr{margin:10px 0;}"," ",""],a,i,o.m,(function(e){return e.theme.palette.grey.A700}),o.m,(function(e){return e.theme.palette.grey[100]}),(function(e){return e.theme.palette.primary.lightP1}),(function(e){return e.renderedInTOC&&Object(r.c)(["font-family:",";strong{font-family:",";}a{display:flex;}"],o.x,o.x)}),(function(e){return e.setHeight&&Object(r.c)(["height:100%;"])}))),s=Object(r.d)(c).attrs((function(){return{as:"span"}})).withConfig({displayName:"Markdown__ViewerSpan",componentId:"sc-1j2yuel-2"})(["display:block;",""],(function(e){return e.hide&&Object(r.c)(["display:none;"])})),l=r.d.div.withConfig({displayName:"Markdown__MediumViewer",componentId:"sc-1j2yuel-3"})([""," margin:5px;display:block;h1,h2,h3,h4,h5,h6{color:",";}",""],a,(function(e){return e.theme.palette.grey.A700}),(function(e){return e.hide&&Object(r.c)(["display:none;"])})),u=r.d.span.withConfig({displayName:"Markdown__QuizViewer",componentId:"sc-1j2yuel-4"})([""," "," margin-top:10px;overflow-wrap:break-word;word-wrap:break-word;max-width:60vw;font-family:",";strong{font-family:",";}"],a,i,o.m,o.m),d=r.d.div.withConfig({displayName:"Markdown__MarkdownContainerDiv",componentId:"sc-1j2yuel-5"})([""," width:100%;"],(function(e){var t=e.height;return t&&Object(r.c)(["height:",";"],t)}))},"1Ua+":function(e,t,n){"use strict";n.d(t,"d",(function(){return L})),n.d(t,"e",(function(){return B})),n.d(t,"c",(function(){return z})),n.d(t,"b",(function(){return F})),n.d(t,"a",(function(){return V}));var r=n("1OyB"),o=n("vuIU"),a=n("JX7q"),i=n("Ji7U"),c=n("md7G"),s=n("foSv"),l=n("rePB"),u=n("q1tI"),d=n.n(u),p=n("diBh"),f=n("7rlJ"),h=n.n(f),g=n("IzWC"),b=n("uwxr"),m=n("RFJL"),v=n("47Jv"),y=n("IP2g"),O=n("wHSu"),j=n("Evd+"),C=n("Vgjn"),w=n("W3D4"),x=n("uoqg"),k=n("neBe"),E=n("hVso"),S=n("VMC0"),_=n("XZhq"),I=n("Wm40"),N=n("vOnD"),D=n("Dsxo"),P={CenterLabel:N.d.label.withConfig({displayName:"styles__CenterLabel",componentId:"sc-1t470lf-0"})(["display:inline-flex;cursor:pointer;margin:0 15px 0 3px;.checkbox{margin-top:0px;margin-bottom:15px;}.form{margin-left:5px;border-radius:",";width:60px;}.fa-info-circle{margin:-4px 8px 0 -13px;}align-items:center;"],D.u),CheckboxContainer:N.d.div.withConfig({displayName:"styles__CheckboxContainer",componentId:"sc-1t470lf-1"})(["background:",";padding:5px;padding-left:15px;margin:5px 10px 5px 15px;border-radius:",";display:inline-block;"],(function(e){return e.theme.palette.common.white}),D.u),DownloadLabel:N.d.label.withConfig({displayName:"styles__DownloadLabel",componentId:"sc-1t470lf-2"})(["display:inline-flex;cursor:pointer;margin:0 15px 0 3px;.checkbox{margin-top:0px;margin-bottom:15px;}.form{margin-left:5px;border-radius:",";width:60px;}.fa-info-circle{margin:-4px 8px 0 -13px;}span{margin-right:10px;margin-top:2px;}"],D.u),DownloadLabel2:N.d.div.withConfig({displayName:"styles__DownloadLabel2",componentId:"sc-1t470lf-3"})(["display:inline-flex;cursor:pointer;margin:0 15px 0 3px;.checkbox{margin-top:0px;margin-bottom:15px;}.form{margin-left:5px;border-radius:",";width:60px;}.fa-info-circle{margin:-4px 8px 0 -13px;}span{margin-right:10px;margin-top:2px;}"],D.u),JottedPositionOverride:N.d.div.withConfig({displayName:"styles__JottedPositionOverride",componentId:"sc-1t470lf-4"})(["position:relative;"])},R=n("RsOY"),A=n.n(R),T=n("jxKE"),H=d.a.createElement;function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var o=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var L="javascript",B=["default","vsDark","vsLight"],z={default:"vsDark",vsDark:"vsDark",vsLight:"vsLight"},F={default:"vscode-dark",vsDark:"vscode-dark",vsLight:"vscode-light"};h()(String(Object.keys(null!==z&&void 0!==z?z:{}))===String(Object.keys(null!==F&&void 0!==F?F:{})));var W=function(e){return Object.keys(null!==e&&void 0!==e?e:{}).filter((function(t){return{}.hasOwnProperty.call(e,t)}))},V=function(e){Object(i.a)(n,e);var t=M(n);function n(){var e,o;Object(r.a)(this,n);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return o=t.call.apply(t,[this].concat(c)),Object(l.a)(Object(a.a)(o),"OutputImageHeightRef",d.a.createRef()),Object(l.a)(Object(a.a)(o),"state",{showDockerOptions:(o.props.judge||o.props.runnable||o.props.isAssessment)&&(null===(e=o.props.docker.jobs)||void 0===e?void 0:e.length)>0}),Object(l.a)(Object(a.a)(o),"getHelloWordCode",(function(){var e,t=o.props,n=t.executionConfig,r=t.executionMetadata,a=n.usercodeLanguage,i=null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.languages;if({}.hasOwnProperty.call(i,a)){var c,s=null===i||void 0===i||null===(c=i[a])||void 0===c?void 0:c.hello_world;o.props.onMultiChange({content:s,onlyCodeChanged:!1})}})),Object(l.a)(Object(a.a)(o),"handleSelectLanguage",(function(e){var t,n,r,a=o.props.executionMetadata,i=null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.languages;o.props.judge&&((null===i||void 0===i||null===(n=i[e.target.value])||void 0===n?void 0:n.judge)||o.props.onJudgeChange(!1));o.props.runnable&&((null===i||void 0===i||null===(r=i[e.target.value])||void 0===r?void 0:r.runnable)||o.props.onRunnableChange(!1));o.props.onLanguageSelect(e.target.value)})),Object(l.a)(Object(a.a)(o),"handleSelectEvaluateLanguage",(function(e){o.props.onEvaluateLanguageSelect(e.target.value)})),Object(l.a)(Object(a.a)(o),"handleSelectTheme",(function(e){o.props.onThemeSelect(e.target.value)})),Object(l.a)(Object(a.a)(o),"handleShowSolutionChange",(function(e){o.props.onShowSolutionChange(!!e.target.checked)})),Object(l.a)(Object(a.a)(o),"handleEvaluateWithoutExecutionChange",(function(e){o.props.onEvaluateWithoutExecutionChange(!!e.target.checked)})),Object(l.a)(Object(a.a)(o),"handleAllowDownloadChange",(function(e){o.props.onAllowDownloadChange(e.target.checked)})),Object(l.a)(Object(a.a)(o),"handleTreatOutputAsHTMLChange",(function(e){o.props.onTreatOutputAsHTMLChange(e.target.checked)})),Object(l.a)(Object(a.a)(o),"changeFileReadonlyStatus",(function(e){o.props.changeFileReadonlyStatus(e.target.checked)})),Object(l.a)(Object(a.a)(o),"handleTransformOutputChange",(function(e){var t=o.props,n=t.dispatch,r=t.lessonParams,a=t.executionConfig,i=t.onTransformOutputChange,c=t.updateOutputTransformCode;e.target.checked&&n(S.b.show(_.p,{title:"Tranform Output or Extract API keys.",confirmHandler:function(e){c(e),n(S.b.close())},executionConfig:a,lessonParams:r,defaultCode:a.outputTransformCode||w.a})),i(e.target.checked)})),Object(l.a)(Object(a.a)(o),"handleEnableHiddenCodeChange",(function(e){o.props.onEnableHiddenCodeChange(e.target.checked)})),Object(l.a)(Object(a.a)(o),"handleEnableStdinChange",(function(e){o.props.onEnableStdinChange(e.target.checked)})),Object(l.a)(Object(a.a)(o),"handleRunnableChange",(function(e){o.props.onRunnableChange(e.target.checked),e.target.checked?o.props.onMultiChange({judge:!1,runnable:!0,evaluateWithoutExecution:!1,evaluateLanguage:null}):o.props.judge||o.props.handleApiKeySelection({}),o.handleDockerJobsVisibility(e.target.checked)})),Object(l.a)(Object(a.a)(o),"handleDockerJobsVisibility",(function(e){var t;(null===(t=o.props.docker.jobs)||void 0===t?void 0:t.length)>0&&o.setState({showDockerOptions:e})})),Object(l.a)(Object(a.a)(o),"changeDockerJob",(function(e){var t=o.props.docker.jobs.find((function(t){return t.key===e.target.value}));o.props.onDockerJobChanged(t)})),Object(l.a)(Object(a.a)(o),"handleJudgeChange",(function(e){e.target.checked?o.props.onMultiChange({judge:!0,runnable:!1}):o.props.onJudgeChange&&(o.props.onJudgeChange(!1),o.props.runnable||o.props.handleApiKeySelection({})),o.handleDockerJobsVisibility(e.target.checked)})),Object(l.a)(Object(a.a)(o),"filterJudgeLanguages",(function(e){var t,n=o.props.executionMetadata;return(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.languages)[e].judge})),Object(l.a)(Object(a.a)(o),"renderEvalLangOption",(function(e){var t,n=o.props.executionMetadata,r=null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.languages;return H("option",{key:e,value:e},r[e].title)})),Object(l.a)(Object(a.a)(o),"handleHighlighedLinesChange",(function(e){o.props.onHighlightedLinesChange(e.target.value)})),Object(l.a)(Object(a.a)(o),"handleTimeLimitChange",(function(e){o.props.onTimeLimitChange(e.target.value)})),Object(l.a)(Object(a.a)(o),"validateOutputImageHeightChange",(function(e){var t,n=e.target.value,r=n;n<150||!n?r=150:n>999&&(r=999),(null===(t=o.OutputImageHeightRef)||void 0===t?void 0:t.current)&&(o.OutputImageHeightRef.current.value=r),o.props.onOutputImageHeightChange(r)})),Object(l.a)(Object(a.a)(o),"validateTimeLimitChange",(function(e){var t=e.target.value,n=t;t<1?n=1:t>55&&(n=55),o.props.onTimeLimitChange(n)})),Object(l.a)(Object(a.a)(o),"handlePlaygroundModeChange",(function(e){e.target.checked?o.props.onMultiChange({playgroundMode:!0,judge:!1,runnable:!0,evaluateWithoutExecution:!1,evaluateLanguage:null}):o.props.playgroundMode&&o.props.onMultiChange({playgroundMode:!1,runnable:!1})})),Object(l.a)(Object(a.a)(o),"getHelloWorldButton",(function(e,t){var n,r,a=Object.keys(null!==(n=o.props.selectedDockerJob)&&void 0!==n?n:{}).length>0;return H(x.a,{popoverTitle:"Are you sure you want to replace the existing code?",handleConfirm:o.getHelloWordCode,disabled:a,hideOnConfirm:!0,danger:!0},H("div",{className:"inline-flex"},H(E.a,{m:0,size:"small",variant:"text",color:"default",disabled:a},"Add Hello World for ",null===e||void 0===e||null===(r=e[t])||void 0===r?void 0:r.title)))})),Object(l.a)(Object(a.a)(o),"getDockerMarkup",(function(){var e,t,n,r;return H(P.CenterLabel,{className:"form-label"},"Docker(Beta)",H(g.a,{componentClass:"select",style:{marginLeft:5,minWidth:"100px"},onChange:function(){var e;return(e=o).changeDockerJob.apply(e,arguments)},disabled:!Object(j.h)(null===(e=o.props)||void 0===e||null===(t=e.docker)||void 0===t||null===(n=t.container)||void 0===n?void 0:n.buildStatus)},H("option",{selected:!0,value:-1},"Select a Job"),null===(r=o.props.docker.jobs)||void 0===r?void 0:r.map((function(e,t){var n;return H("option",{key:t,value:e.key,selected:e.key===(null===(n=o.props.selectedDockerJob)||void 0===n?void 0:n.key)}," ",e.name," ")}))))})),o}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e){var t=e.docker.jobs,n=this.props.docker.jobs;if(!p.a(t,n)){var r=(this.props.judge||this.props.runnable)&&(null===n||void 0===n?void 0:n.length)>0;this.setState({showDockerOptions:r})}}},{key:"render",value:function(){var e,t,n,r,o,a,i,c,s,u,p=this,f=this.props,h=f.executionMetadata,j=f.executionConfig,w=f.editMode,x=f.playgroundMode,E=f.showPlaygroundMode,S=f.apiKeys,_=f.selectedApiKeys,N=f.handleApiKeySelection,D=f.mainFileSelected,R=f.selectedEnvVars,M=f.handleEnvVarSelection,L=f.docker,B=R;0===Object.keys(R).length&&(null===L||void 0===L||null===(u=L.envs)||void 0===u||u.forEach((function(e){B=A()(B,Object(l.a)({},e.id,{$set:!0}))})));var z=null===h||void 0===h||null===(e=h.data)||void 0===e?void 0:e.languages,F=j.timeLimit||30,V=j.outputImageHeight||T.p,U=j.usercodeLanguage||j.language;return H("div",{className:"edcomp-toolbar",style:{paddingBottom:"4px",margin:"0px",borderRadius:"0px"}},H("div",null,H("div",{style:{display:"inline-flex",alignItems:"center",paddingLeft:15,paddingTop:2,paddingBottom:2,marginTop:5,marginBottom:3}},w&&E&&H(P.CheckboxContainer,null,H(P.DownloadLabel,{className:"form-label"},H("span",null,"Code Playground"),H(b.a,{inline:!0,checked:x,onChange:this.handlePlaygroundModeChange}))),(w||x)&&H(P.CenterLabel,{className:"form-label"},"Language",H(g.a,{componentClass:"select",style:{marginLeft:5},value:U,onChange:this.handleSelectLanguage,disabled:null===(t=this.props.selectedDockerJob)||void 0===t?void 0:t.key},W(z).filter((function(e){var t;return!x||(null===(t=z[e])||void 0===t?void 0:t.runnable)})).map((function(e){return H("option",{key:e,value:e},z[e].title)})))),x&&z&&D&&(null===z||void 0===z||null===(n=z[j.language])||void 0===n?void 0:n.runnable)&&this.getHelloWorldButton(z,j.language),this.props.isAssessment&&this.getDockerMarkup(),Object.keys(null!==(r=this.props.selectedDockerJob)&&void 0!==r?r:{}).length>0&&(null===(o=this.props.docker)||void 0===o||null===(a=o.envs)||void 0===a?void 0:a.length)>0&&H(k.a,{title:"Environment Vars",envVars:this.props.docker.envs,selectedEnvVars:B,handleEnvVarSelection:M,isEnv:!0},H(P.CheckboxContainer,null,H(P.CenterLabel,{className:"form-label"},"Select Env Vars"))),(this.props.runnable||this.props.judge||this.props.playgroundMode)&&S&&S.length>0&&H(k.a,{title:"API Keys",apiKeys:S,selectedApiKeys:_,handleApiKeySelection:N,playground:this.props.playgroundMode,extractEnabled:!0},H(P.CheckboxContainer,null,H(P.CenterLabel,{className:"form-label"},"Select API Keys"))),w&&!x&&H(d.a.Fragment,null,this.props.specialInput&&(this.props.runnable||this.props.judge)&&H(P.CenterLabel,{className:"form-label"},"Special Input",H(g.a,{componentClass:"select",style:{marginLeft:5,minWidth:"100px"},onChange:this.props.onSpecialInputSelect,value:this.props.specialInput},H("option",{value:C.d},"No Input"),H("option",{value:C.b},"Freehand"),H("option",{value:C.f},"Upload Image"),H("option",{value:C.e},"Text Input"))),this.state.showDockerOptions&&this.getDockerMarkup(),(this.props.runnable||this.props.judge)&&H(P.CenterLabel,{className:"form-label"},"Time Limit (secs)",H(g.a,{componentClass:"input",className:"form",type:"number",onChange:this.handleTimeLimitChange,onBlur:this.validateTimeLimitChange,value:F})),H(I.a,{value:this.props.highlightedLines,onChangeLines:this.handleHighlighedLinesChange})))),w&&!x&&H(d.a.Fragment,null,H(P.CheckboxContainer,null,H(P.DownloadLabel,{className:"form-label"},H("span",null,"Execute"),H(b.a,{inline:!0,disabled:!(null===z||void 0===z||null===(i=z[U])||void 0===i?void 0:i.runnable),checked:this.props.runnable,onChange:this.handleRunnableChange})),z&&D&&(null===z||void 0===z||null===(c=z[U])||void 0===c?void 0:c.runnable)&&this.getHelloWorldButton(z,U)),(this.props.runnable||this.props.judge)&&H(P.CheckboxContainer,null,H(P.CenterLabel,{className:"form-label"},"Output Image Height (px)",H(g.a,{inputRef:function(e){p.OutputImageHeightRef.current=e},maxLength:3,componentClass:"input",className:"form",type:"number",onBlur:this.validateOutputImageHeightChange,defaultValue:V}))),H(P.CheckboxContainer,null,H(P.DownloadLabel,{className:"form-label"},H("span",null,"Exercise"),H(b.a,{inline:!0,disabled:!(null===z||void 0===z||null===(s=z[U])||void 0===s?void 0:s.judge),checked:this.props.judge,onChange:this.handleJudgeChange}))),H(P.CheckboxContainer,null,this.props.runnable?H(P.DownloadLabel,{className:"form-label"},H("span",null,"Hidden Code"),H(b.a,{inline:!0,checked:this.props.enableHiddenCode,onChange:this.handleEnableHiddenCodeChange})):null,this.props.runnable?H(P.DownloadLabel,{className:"form-label"},H("span",null,"Stdin"),H(b.a,{inline:!0,checked:this.props.enableStdin,onChange:this.handleEnableStdinChange})):null,this.props.runnable?H(P.DownloadLabel,{className:"form-label"},H("span",null,"Treat Output as HTML"),H(b.a,{inline:!0,checked:this.props.treatOutputAsHTML,onChange:this.handleTreatOutputAsHTMLChange})):null,this.props.runnable?H(P.DownloadLabel2,{className:"form-label"},H("span",{cursor:"pointer",onClick:function(){p.handleTransformOutputChange({target:{checked:!0}})}},"Transform Output / Extract API Keys"),H(b.a,{inline:!0,checked:this.props.executionConfig.transformOutput||!1,onChange:this.handleTransformOutputChange})):null,this.props.judge?H(P.DownloadLabel,{className:"form-label"},H("span",null,"Solution"),H(b.a,{inline:!0,checked:this.props.showSolution,onChange:this.handleShowSolutionChange})):null,this.props.judge?H(P.DownloadLabel,{className:"form-label"},H("span",null,"Evaluate in Another Language "),H(m.a,{placement:"top",overlay:H(v.a,{id:"code-options-tooltip"},"Access the user code as edTestMetadata.userCode")},H(y.a,{icon:O.g})),H(b.a,{inline:!0,checked:this.props.evaluateWithoutExecution,onChange:this.handleEvaluateWithoutExecutionChange})):null,this.props.evaluateWithoutExecution?H(P.CenterLabel,{className:"form-label"},"Language for evaluation",H(g.a,{componentClass:"select",style:{marginLeft:5},value:j.language,onChange:this.handleSelectEvaluateLanguage},W(z).filter(this.filterJudgeLanguages).map(this.renderEvalLangOption),")")):null,H(P.DownloadLabel,{className:"form-label"},H("span",null,"Downloadable"),H(b.a,{inline:!0,checked:this.props.allowDownload,onChange:this.handleAllowDownloadChange}))),H(P.CheckboxContainer,null,H(P.DownloadLabel,{className:"form-label"},H("span",null,"Mark current file as read-only"),H(b.a,{inline:!0,checked:this.props.readOnly,onChange:this.changeFileReadonlyStatus})))))}}]),n}(d.a.Component);Object(l.a)(V,"defaultProps",{docker:{jobs:[]},selectedDockerJob:{},onDockerJobChanged:function(){},specialInput:"",playgroundMode:!1,showPlaygroundMode:!1,runnable:!1,judge:!1,allowDownload:!1,treatOutputAsHTML:!1,enableHiddenCode:!1,enableStdin:!1,showSolution:!1,evaluateWithoutExecution:!1,apiKeys:null,selectedApiKeys:{},selectedEnvVars:{},handleApiKeySelection:function(){},handleEnvVarSelection:function(){},readOnly:!1,isAssessment:!1})},"3Epe":function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return v}));var r=n("o0o1"),o=n.n(r),a=n("rePB"),i=n("HaE+"),c=n("wSl+"),s=n("E891"),l=n("fNkK"),u=n("MF81");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=e.mapName,n="userdata/map/".concat(t);return Object(l.a)({url:"/api/".concat(n),type:"GET"})},h=function(e){var t=e.mapName,n=e.data,r="userdata/map/".concat(t),o={map_key_val:JSON.stringify(n)};return Object(l.a)({url:"/api/".concat(r),type:"POST",contentType:"application/json",processData:!1,data:Object(c.deflate)(JSON.stringify(o),{level:9}),headers:{"Content-Encoding":"deflate"}})},g=function(e,t,n){return function(){var r=Object(i.a)(o.a.mark((function r(i){var c,l,d,g,b;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i(u.f.saveRequest(p({compId:t.compId},n))),c=Object(u.a)(t),l={timestamp:Date.now(),userdata:JSON.stringify(e)},r.next=6,h({mapName:c,data:l});case 6:return r.next=8,f({mapName:c});case 8:d=r.sent,(g=JSON.parse(d)).userdata=Object(s.a)(g.userdata),b=Object(a.a)({},c,g),i(u.f.saveSuccess(b)),r.next=19;break;case 15:r.prev=15,r.t0=r.catch(0),console.error("saveWidgetUserData error",r.t0),i(u.f.saveFailure());case 19:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(e){return r.apply(this,arguments)}}()},b=function(e){return Object(l.a)({url:"/api/userdata/maps/get_values",type:"POST",data:{maps_keys_json:JSON.stringify({maps:e})}})},m=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(n){var r,a,i,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n(u.f.pending()),e.compIds&&e.compIds.length&&e.userId&&e.authorId&&e.pageId){t.next=5;break}return n(u.f.rejected()),t.abrupt("return");case 5:return r=e.compIds.map((function(t){return{map_name:Object(u.a)(p(p({},e),{},{compId:t})),map_keys:null}})),t.next=8,b(r);case 8:a=t.sent,i=JSON.parse(a),c=Object.keys(i).reduce((function(e,t){var n=i[t];return n&&(n.userdata=Object(s.a)(n.userdata)),e[t]=n,e}),{}),n(u.f.fulfilled(c)),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.error("loadAllWidgetsUserData error",t.t0),n(u.f.rejected());case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return Object(l.a)({url:"/api/userdata/map/work_id/".concat(e),type:"GET"})}},"7rlJ":function(e,t,n){"use strict";(function(t){var r=n("Qetd");function o(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}function a(e){return t.Buffer&&"function"===typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=n("7tlc"),c=Object.prototype.hasOwnProperty,s=Array.prototype.slice,l="foo"===function(){}.name;function u(e){return Object.prototype.toString.call(e)}function d(e){return!a(e)&&("function"===typeof t.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var p=e.exports=v,f=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(i.isFunction(e)){if(l)return e.name;var t=e.toString().match(f);return t&&t[1]}}function g(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function b(e){if(l||!i.isFunction(e))return i.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,n,r,o){throw new p.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function v(e,t){e||m(e,!0,t,"==",p.ok)}function y(e,t,n,r){if(e===t)return!0;if(a(e)&&a(t))return 0===o(e,t);if(i.isDate(e)&&i.isDate(t))return e.getTime()===t.getTime();if(i.isRegExp(e)&&i.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(d(e)&&d(t)&&u(e)===u(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===o(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var c=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==c&&c===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(i.isPrimitive(e)||i.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=O(e),a=O(t);if(o&&!a||!o&&a)return!1;if(o)return y(e=s.call(e),t=s.call(t),n);var c,l,u=w(e),d=w(t);if(u.length!==d.length)return!1;for(u.sort(),d.sort(),l=u.length-1;l>=0;l--)if(u[l]!==d[l])return!1;for(l=u.length-1;l>=0;l--)if(!y(e[c=u[l]],t[c],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function O(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function j(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function C(e,t,n,r){var o;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof n&&(r=n,n=null),o=function(e){var t;try{e()}catch(n){t=n}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&m(o,n,"Missing expected exception"+r);var a="string"===typeof r,c=!e&&o&&!n;if((!e&&i.isError(o)&&a&&j(o,n)||c)&&m(o,n,"Got unwanted exception"+r),e&&o&&n&&!j(o,n)||!e&&o)throw o}p.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return g(b(e.actual),128)+" "+e.operator+" "+g(b(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,o=h(t),a=r.indexOf("\n"+o);if(a>=0){var i=r.indexOf("\n",a+1);r=r.substring(i+1)}this.stack=r}}},i.inherits(p.AssertionError,Error),p.fail=m,p.ok=v,p.equal=function(e,t,n){e!=t&&m(e,t,n,"==",p.equal)},p.notEqual=function(e,t,n){e==t&&m(e,t,n,"!=",p.notEqual)},p.deepEqual=function(e,t,n){y(e,t,!1)||m(e,t,n,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(e,t,n){y(e,t,!0)||m(e,t,n,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function(e,t,n){y(e,t,!1)&&m(e,t,n,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function e(t,n,r){y(t,n,!0)&&m(t,n,r,"notDeepStrictEqual",e)},p.strictEqual=function(e,t,n){e!==t&&m(e,t,n,"===",p.strictEqual)},p.notStrictEqual=function(e,t,n){e===t&&m(e,t,n,"!==",p.notStrictEqual)},p.throws=function(e,t,n){C(!0,e,t,n)},p.doesNotThrow=function(e,t,n){C(!1,e,t,n)},p.ifError=function(e){if(e)throw e},p.strict=r((function e(t,n){t||m(t,!0,n,"==",e)}),p,{equal:p.strictEqual,deepEqual:p.deepStrictEqual,notEqual:p.notStrictEqual,notDeepEqual:p.notDeepStrictEqual}),p.strict.strict=p.strict;var w=Object.keys||function(e){var t=[];for(var n in e)c.call(e,n)&&t.push(n);return t}}).call(this,n("yLpj"))},E9nw:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},IP2g:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("7O5W"),o=n("17x9"),a=n.n(o),i=n("q1tI"),c=n.n(i);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}function g(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),o=h(t.slice(0,r)),a=t.slice(r+1).trim();return o.startsWith("webkit")?e[(n=o,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[o]=a,e}),{})}var b=!1;try{b=!0}catch(j){}function m(e){return null===e?null:"object"===s(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function v(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?l({},e,t):{}}function y(e){var t=e.forwardedRef,n=p(e,["forwardedRef"]),o=n.icon,a=n.mask,i=n.symbol,c=n.className,s=n.title,u=m(o),h=v("classes",[].concat(f(function(e){var t,n=e.spin,r=e.pulse,o=e.fixedWidth,a=e.inverse,i=e.border,c=e.listItem,s=e.flip,u=e.size,d=e.rotation,p=e.pull,f=(l(t={"fa-spin":n,"fa-pulse":r,"fa-fw":o,"fa-inverse":a,"fa-border":i,"fa-li":c,"fa-flip-horizontal":"horizontal"===s||"both"===s,"fa-flip-vertical":"vertical"===s||"both"===s},"fa-".concat(u),"undefined"!==typeof u&&null!==u),l(t,"fa-rotate-".concat(d),"undefined"!==typeof d&&null!==d&&0!==d),l(t,"fa-pull-".concat(p),"undefined"!==typeof p&&null!==p),l(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(f).map((function(e){return f[e]?e:null})).filter((function(e){return e}))}(n)),f(c.split(" ")))),g=v("transform","string"===typeof n.transform?r.d.transform(n.transform):n.transform),j=v("mask",m(a)),C=Object(r.c)(u,d({},h,{},g,{},j,{symbol:i,title:s}));if(!C)return function(){var e;!b&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",u),null;var w=C.abstract,x={ref:t};return Object.keys(n).forEach((function(e){y.defaultProps.hasOwnProperty(e)||(x[e]=n[e])})),O(w[0],x)}y.displayName="FontAwesomeIcon",y.propTypes={border:a.a.bool,className:a.a.string,mask:a.a.oneOfType([a.a.object,a.a.array,a.a.string]),fixedWidth:a.a.bool,inverse:a.a.bool,flip:a.a.oneOf(["horizontal","vertical","both"]),icon:a.a.oneOfType([a.a.object,a.a.array,a.a.string]),listItem:a.a.bool,pull:a.a.oneOf(["right","left"]),pulse:a.a.bool,rotation:a.a.oneOf([0,90,180,270]),size:a.a.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:a.a.bool,symbol:a.a.oneOfType([a.a.bool,a.a.string]),title:a.a.string,transform:a.a.oneOfType([a.a.string,a.a.object]),swapOpacity:a.a.bool},y.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var O=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var o=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=g(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[h(t)]=r}return e}),{attrs:{}}),i=r.style,c=void 0===i?{}:i,s=p(r,["style"]);return a.attrs.style=d({},a.attrs.style,{},c),t.apply(void 0,[n.tag,d({},a.attrs,{},s)].concat(f(o)))}.bind(null,c.a.createElement)},IzWC:function(e,t,n){"use strict";var r=n("kOwS"),o=n("hi2O"),a=n("c7wz"),i=n("TSYQ"),c=n.n(i),s=n("q1tI"),l=n.n(s),u=n("17x9"),d=n.n(u),p=n("BGzO"),f=n.n(p),h=(n("6DQo"),n("KTbD")),g=n("uwnE"),b={$bs_formGroup:d.a.object},m=function(e){function t(){return e.apply(this,arguments)||this}Object(a.a)(t,e);var n=t.prototype;return n.getGlyph=function(e){switch(e){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},n.renderDefaultFeedback=function(e,t,n,o){var a=this.getGlyph(e&&e.validationState);return a?l.a.createElement(h.a,Object(r.a)({},o,{glyph:a,className:c()(t,n)})):null},n.render=function(){var e=this.props,t=e.className,n=e.children,a=Object(o.a)(e,["className","children"]),i=Object(g.f)(a),s=i[0],u=i[1],d=Object(g.d)(s);if(!n)return this.renderDefaultFeedback(this.context.$bs_formGroup,t,d,u);var p=l.a.Children.only(n);return l.a.cloneElement(p,Object(r.a)({},u,{className:c()(p.props.className,t,d)}))},t}(l.a.Component);m.defaultProps={bsRole:"feedback"},m.contextTypes=b;var v=Object(g.a)("form-control-feedback",m),y={componentClass:f.a},O=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,a=Object(o.a)(e,["componentClass","className"]),i=Object(g.f)(a),s=i[0],u=i[1],d=Object(g.d)(s);return l.a.createElement(t,Object(r.a)({},u,{className:c()(n,d)}))},t}(l.a.Component);O.propTypes=y,O.defaultProps={componentClass:"p"};var j=Object(g.a)("form-control-static",O),C=n("ga9N"),w={componentClass:f.a,type:d.a.string,id:d.a.string,inputRef:d.a.func},x={$bs_formGroup:d.a.object},k=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e,t=this.context.$bs_formGroup,n=t&&t.controlId,a=this.props,i=a.componentClass,s=a.type,u=a.id,d=void 0===u?n:u,p=a.inputRef,f=a.className,h=a.bsSize,b=Object(o.a)(a,["componentClass","type","id","inputRef","className","bsSize"]),m=Object(g.f)(b),v=m[0],y=m[1];if("file"!==s&&(e=Object(g.d)(v)),h){var O=C.b[h]||h;e[Object(g.e)({bsClass:"input"},O)]=!0}return l.a.createElement(i,Object(r.a)({},y,{type:s,id:d,ref:p,className:c()(f,e)}))},t}(l.a.Component);k.propTypes=w,k.defaultProps={componentClass:"input"},k.contextTypes=x,k.Feedback=v,k.Static=j;t.a=Object(g.a)("form-control",Object(g.b)([C.c.SMALL,C.c.LARGE],k))},KTbD:function(e,t,n){"use strict";var r=n("kOwS"),o=n("hi2O"),a=n("c7wz"),i=n("TSYQ"),c=n.n(i),s=n("q1tI"),l=n.n(s),u=n("17x9"),d=n.n(u),p=n("uwnE"),f={glyph:d.a.string.isRequired},h=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.glyph,a=t.className,i=Object(o.a)(t,["glyph","className"]),s=Object(p.f)(i),u=s[0],d=s[1],f=Object(r.a)({},Object(p.d)(u),((e={})[Object(p.e)(u,n)]=!0,e));return l.a.createElement("span",Object(r.a)({},d,{className:c()(a,f)}))},t}(l.a.Component);h.propTypes=f,t.a=Object(p.a)("glyphicon",h)},MCbV:function(e,t,n){"use strict";var r=n("rePB"),o=n("Ff2n"),a=n("5R4e");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return function(t){return function(n){if(!function(e){return!!e&&!!e.error}(n))return t(n);var r=n.error,i=n.errorHook,s=n.errorWhitelist,l=Object(o.a)(n,["error","errorHook","errorWhitelist"]);if(Object(a.a)(n.error,e.dispatch,null,s),i){var u=e.dispatch,d=i(c(c({},l),{},{error:r,dispatch:u}));return d&&t(d),null}return t(n)}}}},NC75:function(e,t,n){"use strict";var r=n("o0o1"),o=n.n(r),a=n("HaE+"),i=n("KQm4"),c=n("ODXe"),s=n("1OyB"),l=n("vuIU"),u=n("JX7q"),d=n("Ji7U"),p=n("md7G"),f=n("foSv"),h=n("rePB"),g=n("q1tI"),b=n.n(g),m=n("gjeX"),v=n.n(m),y=n("sBL/"),O=n.n(y),j=n("nOHt"),C=n("+Zpp"),w=n("kzvQ"),x=n("BMKr"),k=n("CjAr"),E=n("i7Pf"),S=n("ukoL"),_=n("PS9J"),I=n("wx14"),N=n("ihVS"),D=n("t99M"),P=n("Rzx/"),R=n("Fn3X"),A=n("1raM"),T=n("RFJL"),H=n("47Jv"),M=n("diBh"),L=n("3zPy"),B=n.n(L),z=n("SWXX"),F=n("a9Uy"),W=n("hVso"),V=n("jxKE"),U=b.a.createElement;function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var q=function(e){Object(d.a)(n,e);var t=J(n);function n(e){var r;Object(s.a)(this,n),r=t.call(this,e),Object(h.a)(Object(u.a)(r),"noteInput",b.a.createRef()),Object(h.a)(Object(u.a)(r),"container",b.a.createRef()),Object(h.a)(Object(u.a)(r),"reposition",(function(){if(r.props.childRef.current){var e=r.props.childRef.current.getBoundingClientRect(),t=e.width,n=e.top,o=e.height,a=r.props.menuData.coords.bottom,i=!1;(n-64<0||r.props.menuData.touch)&&(a=a-o-30,i=!0),r.setState({left:r.props.menuData.coords.left&&Math.max(0,r.props.menuData.coords.left-t/2),right:r.props.menuData.coords.right&&Math.max(0,r.props.menuData.coords.right-t/2),bottom:a,revButtons:i})}})),Object(h.a)(Object(u.a)(r),"handleClose",(function(){r.props.removeSelection?r.props.onHighlightRemove(r.props.menuData.selection):r.props.closeMenu()})),Object(h.a)(Object(u.a)(r),"handleHighlightCreate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r.props.onHighlightCreate(r.props.menuData.range,e,t)})),Object(h.a)(Object(u.a)(r),"handleHighlightEdit",(function(e){r.props.onHighlightEdit(r.props.menuData.range,e)})),Object(h.a)(Object(u.a)(r),"onNoteChange",(function(e){var t=e.target.value,n=t.substr(0,256);r.getSymbolsLen(t)>=256&&(n=n.substr(0,256-2*(n.split(/\r*\n/).length-1)));var o=r.getSymbolsLen(t);(o<=r.getSymbolsLen(r.state.noteValue)||o<=256)&&r.setState({noteValue:n})})),Object(h.a)(Object(u.a)(r),"handleComment",(function(){var e,t=null===(e=r.state.noteValue)||void 0===e?void 0:e.trim();"edit"===r.state.showNote?r.handleHighlightEdit(t):"note"===r.state.showNote&&r.handleHighlightCreate(t)})),Object(h.a)(Object(u.a)(r),"handleNoteFormOpen",(function(e){r.setState({showNote:e},(function(){var e;null===(e=r.noteInput.current)||void 0===e||e.focus()}))})),Object(h.a)(Object(u.a)(r),"handleRemove",(function(){return r.props.onHighlightRemove(r.props.menuData.range)})),Object(h.a)(Object(u.a)(r),"handleBtnClick",(function(e){switch(e){case"highlight":r.handleHighlightCreate();break;case"reassign":r.handleHighlightCreate(null,r.props.commentToReassign);break;case"note":case"edit":r.handleNoteFormOpen(e);break;case"remove":r.handleRemove();break;default:return null}return null})),Object(h.a)(Object(u.a)(r),"handleKeyPress",(function(e){e.keyCode!==B.a.codes.enter||e.shiftKey?e.keyCode===B.a.codes.esc&&r.handleClose():(e.preventDefault(),r.handleComment())})),Object(h.a)(Object(u.a)(r),"getSymbolsLen",(function(e){var t=2*(e.split(/\r*\n/).length-1);return e.length+t})),Object(h.a)(Object(u.a)(r),"noteSymbolsLeft",(function(){return 256-r.getSymbolsLen(r.state.noteValue)}));var o=e.menuData.range.dataset?e.selections[e.spanToMdChild[e.menuData.range.dataset.id]].filter((function(t){return t.id===e.menuData.range.dataset.id}))[0].comment:null;return r.state={showNote:!1,noteValue:o||"",left:e.menuData.coords.left,right:e.menuData.coords.right,bottom:e.menuData.coords.bottom,edit:e.menuData.edit},r.createButtons=[{title:"Highlight",payload:"highlight",icon:U(N.a,{size:20}),id:V.C?"selenium-highlight":null},{title:"Add a note",payload:"note",icon:U(D.a,{size:20}),id:V.C?"selenium-note":null},{title:"Reassign here",payload:"reassign",icon:U(P.a,{size:20})}],r.editButtons=[{title:function(e){return e?"Edit note":"Add note"},payload:"edit",icon:U(R.a,{size:20}),id:V.C?"selenium-note-edit":null},{title:function(e){return e?"Remove note":"Remove highlight"},payload:"remove",icon:U(A.a,{size:20}),danger:!0,id:V.C?"selenium-remove":null}],!e.menuData.edit&&e.commentToReassign||r.createButtons.pop(),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.reposition()}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(t.showNote!==this.state.showNote&&this.state.showNote){if(!this.container.current)return;var r=this.container.current.getBoundingClientRect(),o=r.height,a=r.width;this.setState({bottom:this.props.menuData.coords.bottom-(o-65),left:this.props.menuData.coords.left&&Math.max(0,this.props.menuData.coords.left-50),right:this.props.menuData.coords.right&&Math.max(0,this.props.menuData.coords.right-(a-50))})}if(!M.a(e.menuData,this.props.menuData)){var i=this.props.menuData.range.dataset?this.props.selections[this.props.spanToMdChild[this.props.menuData.range.dataset.id]].filter((function(e){return e.id===n.props.menuData.range.dataset.id}))[0].comment:null;this.setState({showNote:!1,noteValue:i||"",edit:this.props.menuData.edit,bottom:this.props.menuData.coords.bottom},(function(){return n.reposition()}))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.showNote,r=t.noteValue,o=t.left,a=t.right,i=t.bottom,c=t.edit,s=t.revButtons,l=this.props.menuData.isInsideConcept,u=c?this.editButtons:this.createButtons,d=[r&&U(z.h,{key:"0"},U(F.a,{variant:"bodySmall"},r)),U(z.f,{key:"1"},u.map((function(t,n){var o="string"===typeof t.title?t.title:t.title(r);return U(T.a,{key:n.toString(),trigger:["hover"],placement:"top",overlay:U(H.a,{id:o},o)},U(z.g,{onClick:function(n){return e.handleBtnClick(t.payload,n)},id:t.id,danger:t.danger},t.icon))})))];return U(z.i,{ref:function(t){e.container.current=t,"function"===typeof e.props.childRef?e.props.childRef(t):e.props.childRef&&(e.props.childRef.current=t)},style:{left:o,right:a,bottom:i}},l?U(z.e,null,U(F.a,{variant:"bodyMedium",p:1},"Cannot create highlight/note inside a concept")):U(b.a.Fragment,null,n?U(z.a,null,U(z.c,null,U(F.a,{variant:"bodySmall"},this.noteSymbolsLeft())),U(F.a,{variant:"bodySmall"},U(z.d,{ref:this.noteInput,placeholder:"Add a note here...",onChange:this.onNoteChange,onKeyDown:this.handleKeyPress,value:r})),U("div",{className:"flex justify-center"},U(W.a,{size:"small",onClick:this.handleClose},"CANCEL"),U(W.a,{size:"small",variant:"contained",color:"primary",onClick:this.handleComment},"DONE"))):U(z.e,null,s?[].concat(d).reverse():d)))}}]),n}(b.a.Component);Object(h.a)(q,"defaultProps",{commentToReassign:{}});var X=b.a.forwardRef((function(e,t){return U(q,Object(I.a)({},e,{childRef:t}))})),K=n("VeD8"),G=n("pQ8y"),Y=n("+QRC"),Q=n.n(Y),$=n("ulad"),Z=n("+zGO"),ee=n("uoqg"),te=n("XDgg"),ne=n("h4VS"),re=n("vOnD"),oe=n("Dsxo");function ae(){var e=Object(ne.a)(["\n    div.dangling-selection-container {\n      width: 100%;\n      max-height: 400px;\n      height: auto;\n      overflow: auto;\n      border: 1px solid ",";\n      padding: 10px;\n      border-radius: ",";\n      div.buttons_panel {\n        display: flex;\n        button.menu_button {\n          display: inline-block;\n          width: 40px;\n\n          outline: none;\n          border: none;\n          background: ",";\n          box-shadow: ",";\n          padding: 0;\n          justify-content: center;\n          svg {\n            width: 18px;\n            height: auto;\n            fill: ",";\n          }\n        }\n\n        button.menu_button_container {\n          width: 100%;\n          height: 100%;\n          outline: none;\n          border: none;\n          background-color: transparent;\n          padding: 5;\n          justify-content: center;\n          svg {\n            width: 18px;\n            height: auto;\n            fill: ",";\n          }\n        }\n      }\n      div.notes_container {\n        margin-bottom: 10px;\n        margin-top: 20px;\n        div.note {\n          position: relative;\n          border: 1px solid ",";\n          border-left: 5px solid ",";\n          border-radius: ",";\n          align-content: center;\n          background: ",";\n          justify-content: space-between;\n          display: flex;\n          flex-wrap: wrap;\n          padding: 8px;\n\n          .dangling_title {\n            margin: 0;\n            word-wrap: break-word;\n            width: 85%;\n\n            @media screen and (max-width: 1240px) {\n              margin-bottom: 4px;\n            }\n          }\n\n          div.popover {\n            left: auto !important;\n            right: 0 !important;\n            margin: 0 !important;\n            background: ",";\n            .arrow {\n              display: none !important;\n            }\n          }\n        }\n      }\n    }\n  "]);return ae=function(){return e},e}var ie={Container:Object(re.b)(ae(),(function(e){return e.theme.palette.grey[300]}),oe.l,(function(e){return e.theme.palette.common.white}),(function(e){return e.theme.palette.grey[200]}),(function(e){return e.theme.palette.grey[600]}),(function(e){return e.theme.palette.grey[600]}),(function(e){return e.theme.palette.grey[300]}),(function(e){return e.theme.palette.primary.lightP2}),oe.k,(function(e){return e.theme.palette.common.white}),(function(e){return e.theme.palette.common.white})),IconWrapper:re.d.i.withConfig({displayName:"styles__IconWrapper",componentId:"sc-1ukqpu1-0"})(["display:inline-flex;justify-content:center;align-items:center;width:35px;border-radius:",";transition:0.2s;cursor:pointer;"],oe.c)},ce=b.a.createElement;function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var de=function(e){Object(d.a)(n,e);var t=ue(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(h.a)(Object(u.a)(e),"state",{showNotes:!1,copied:!1}),Object(h.a)(Object(u.a)(e),"buttons",[{title:"Copy to clipboard",payload:"copy",icon:"Copy"},{title:"Reassign",payload:"reassign",icon:"MessageCircle"},{title:"Remove",payload:"remove",icon:"Trash2"}]),Object(h.a)(Object(u.a)(e),"showNotes",(function(){e.state.showNotes||Object(C.c)(C.b.INTERACTION,C.a.INTERACTION_MD_MOVED_NOTES_SHOW,"MovedNotesShown"),e.setState({showNotes:!e.state.showNotes})})),Object(h.a)(Object(u.a)(e),"copyText",(function(e){Q()(e),Object(C.c)(C.b.INTERACTION,C.a.INTERACTION_MD_MOVED_NOTE_COPY,"MovedNoteCopied")})),Object(h.a)(Object(u.a)(e),"triggerPopover",(function(t,n,r){t(),e.setState({copied:{text:n,index:r}},(function(){setTimeout((function(){e.setState({copied:null})}),1e3)}))})),Object(h.a)(Object(u.a)(e),"handleRemove",(function(t){e.props.onHighlightRemove(t,!0)})),Object(h.a)(Object(u.a)(e),"overlayTrigger",void 0),Object(h.a)(Object(u.a)(e),"handleHide",(function(){e.overlayTrigger.handleHide()})),Object(h.a)(Object(u.a)(e),"onRemove",(function(){e.props.onRemoveAll()})),Object(h.a)(Object(u.a)(e),"handleBtnClick",(function(t,n,r){switch(t){case"copy":e.triggerPopover((function(){return e.copyText(r.comment)}),"Copied!",r.id);break;case"reassign":e.triggerPopover((function(){return e.props.onSaveCommenToReassign(le(le({},r),{},{currentP_id:n}))}),"Select text to reassign",r.id);break;case"remove":e.handleRemove({currentP_id:n,highlight_id:r.id});break;default:return null}return null})),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.danglingSelections,n=this.state,r=n.showNotes,o=n.copied;return ce(b.a.Fragment,null,ce(ie.Container,null),ce("div",{className:"dangling-selection-container"},ce(W.a,{variant:"text",color:"default",size:"small",mx:"auto",my:0,onClick:this.showNotes},"".concat(r?"Hide":"Show"," moved notes")),ce(K.a,null,r&&ce(G.a,{classNames:"runnable",timeout:500},ce("div",{className:"notes_container"},ce("div",null,ce(ee.a,{popoverTitle:"Permanently delete this Note?",handleConfirm:this.onRemove,hideOnConfirm:!0,danger:!0},ce(W.a,{color:"danger",variant:"contained",size:"small",ml:"auto"},"Remove all")),Object.keys(t).map((function(n){return t[n].map((function(t){return ce("div",{className:"note",key:t.id},!!o&&o.index===t.id&&ce($.a,{id:"dang_notes-popover".concat(t.id),placement:"top"},ce(F.a,{variant:"bodySmall"},o.text)),ce("p",{className:"dangling_title"},t.comment),ce("div",{className:"buttons_panel"},e.buttons.map((function(r,o){return ce(T.a,{key:o,trigger:["hover"],placement:"top",overlay:ce(H.a,{id:r.title},r.title)},"Remove"===r.title?ce(ie.IconWrapper,{title:"Delete lesson"},ce(te.a,{zoomOnHover:!0,danger:!0,onClick:function(){return e.handleBtnClick(r.payload,n,t)},icon:r.icon,color:e.props.theme.palette.common.black,size:16})):ce(ie.IconWrapper,{title:"Delete lesson"},ce(te.a,{zoomOnHover:!0,hoverColor:e.props.theme.palette.primary.main,onClick:function(){return e.handleBtnClick(r.payload,n,t)},icon:r.icon,color:e.props.theme.palette.common.black,size:16})))}))))}))}))))))))}}]),n}(b.a.Component),pe=Object(Z.a)(de),fe=n("1Ua+"),he=n("0e8D");function ge(){var e=Object(ne.a)(["\n  span.markdown_viewer_highlighted_content {\n    ","\n  }\n  span.markdown_viewer_highlighted_content_with_comment {\n    ","\n    background-color: ",";\n    }\n  span.anchor-link {\n    color: ",";\n    font-weight: normal;\n    transition: 0.2s;\n    :hover {\n      color: ",";\n    }\n  }\n  :target::before {\n    content: '';\n    display: block;\n    height: 64px;\n    margin: -64px 0 0;\n  }\n"]);return ge=function(){return e},e}var be=Object(re.c)(["position:relative;background-color:",";user-select:none;cursor:pointer;"],(function(e){return e.theme.palette.utils.mdHighlight})),me=Object(re.b)(ge(),be,be,(function(e){return e.theme.palette.accent3.lightP1}),(function(e){return e.theme.palette.grey[100]}),(function(e){return e.theme.palette.grey[800]})),ve=n("i8i4"),ye=n.n(ve),Oe=n("/MKj"),je=n("zEHM"),Ce=function(){return je.a},we=n("bWLx"),xe=n("zGpi"),ke=re.d.span.withConfig({displayName:"styles__Keyword",componentId:"hi3ddj-0"})(["border-bottom:2px solid ",";cursor:pointer;"],(function(e){return e.theme.palette.common.black})),Ee=Object(re.d)($.a).withConfig({displayName:"styles__PopOver",componentId:"hi3ddj-1"})(["z-index:",";word-wrap:break-word;",""],_.b,(function(e){return e.textLength>300&&Object(re.c)(["min-width:456px;@media (max-width:","){min-width:400px;}@media (max-width:","){min-width:352px;}@media (max-width:","){min-width:304px;}"],xe.u.pixels,xe.i.pixels,xe.k.pixels)})),Se=b.a.createElement,_e=Object(Z.a)((function(e){var t=e.word,n=e.meaning,r=e.theme;return Se(T.a,{placement:"top",rootClose:!0,overlay:Se(Ee,{textLength:n.length||0,id:"popover-basic",placement:"bottom"},Se(re.a,{theme:r},Se(we.a,{theme:r},n)))},Se(ke,{theme:r},t))})),Ie=n("17x9"),Ne=n.n(Ie);function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Re=Object(g.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,a=void 0===o?24:o,i=Pe(e,["color","size"]);return b.a.createElement("svg",De({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),b.a.createElement("polyline",{points:"10 15 15 20 20 15"}),b.a.createElement("path",{d:"M4 4h7a4 4 0 0 1 4 4v12"}))}));Re.propTypes={color:Ne.a.string,size:Ne.a.oneOfType([Ne.a.string,Ne.a.number])},Re.displayName="CornerRightDown";var Ae=Re,Te=re.d.span.withConfig({displayName:"styles__Wrapper",componentId:"zccaat-0"})([""]),He=re.d.span.withConfig({displayName:"styles__Text",componentId:"zccaat-1"})(["",";"],(function(e){var t=e.disabled;return e.displayAsText?Object(re.c)([""]):t?Object(re.c)(["padding:1px;border:1px solid ",";background-color:",";"],(function(e){return e.theme.palette.error.main}),(function(e){return e.theme.palette.error.lightP1})):Object(re.c)(["font-weight:bold;cursor:pointer;"])})),Me=Object(re.d)(Ae).attrs({size:13,strokeWidth:3}).withConfig({displayName:"styles__ExpandIcon",componentId:"zccaat-2"})(["display:inline-block;vertical-align:middle;transition:0.2s;",""],(function(e){return e.expanded&&Object(re.c)(["transform:rotate(-270deg) scaleX(-1);"])})),Le=re.d.div.withConfig({displayName:"styles__ConceptComponentsContainer",componentId:"zccaat-3"})(["margin:5px 0 5px 0;padding:5px;box-shadow:0 0 15px ",";border:1px solid ",";border-radius:",";"],(function(e){return e.theme.palette.grey[300]}),(function(e){return e.theme.palette.grey[300]}),oe.w),Be=re.d.span.withConfig({displayName:"styles__Error",componentId:"zccaat-4"})(["font-style:italic;color:",";"],(function(e){return e.theme.palette.grey[300]})),ze=n("1LFi"),Fe=n("b8YG"),We=n("SvKN"),Ve=b.a.createElement;function Ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var Je=function(e){Object(d.a)(n,e);var t=Ue(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(h.a)(Object(u.a)(e),"state",{expanded:!1}),Object(h.a)(Object(u.a)(e),"toggleExpansion",(function(){var t=e.state.expanded;e.setState({expanded:!t})})),Object(h.a)(Object(u.a)(e),"shouldDisableConcept",(function(t){var n=e.props,r=n.conceptIdBacktrace,o=(0,n.getConcepts)(),a=o.loaded,i=o.concepts;return!a||!i[t]||r.includes(i[t].id)})),Object(h.a)(Object(u.a)(e),"shouldDisplayConceptAsText",(function(t){var n=e.props,r=n.conceptIdBacktrace,o=(0,n.getConcepts)(),a=o.loaded,i=o.concepts;return!a||i[t]&&r.includes(i[t].id)})),Object(h.a)(Object(u.a)(e),"getConceptComponentsByName",(function(t){var n=e.props,r=n.getConceptByName,o=n.authorId,a=n.collectionId,c=n.conceptIdBacktrace,s=r(t),l=s.loaded,u=s.concept,d=s.error;return d?Ve(Be,null,"(",d,")"):l?u?u.comps.map((function(e){return Ve(ze.b,{mode:"view",comp:e,allowComments:!1,authorId:o,collectionId:a,conceptId:u.id,conceptIdBacktrace:[].concat(Object(i.a)(c),[u.id])})})):null:Ve(Fe.a,null)})),Object(h.a)(Object(u.a)(e),"getConceptId",(function(t){var n,r;return(null===(n=e.props.getConceptByName(t))||void 0===n||null===(r=n.concept)||void 0===r?void 0:r.id)||""})),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.word,n=e.name,r=this.state.expanded,o=this.shouldDisableConcept(n),a=this.shouldDisplayConceptAsText(n),i=this.getConceptId(n);return Ve(Te,null,Ve(He,{onClick:o?function(){}:this.toggleExpansion,disabled:o,displayAsText:a,id:V.C&&i?"text-for-".concat(i):null},t,!o&&Ve(Me,{expanded:r?1:0})),r&&Ve(Le,{className:"conceptBody"},this.getConceptComponentsByName(n)))}}]),n}(b.a.Component),qe=Object(We.a)(Je),Xe=b.a.createElement;function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye={KEYWORD:{Component:_e,requireStore:!1,requireTheme:!1,inheritProps:!0,extractProps:function(e){var t=e.firstElementChild,n=e.lastElementChild;return{word:t.textContent,meaning:n.textContent}}},CONCEPT:{Component:qe,requireStore:!0,requireTheme:!0,inheritProps:!0,extractProps:function(e){var t=e.firstElementChild,n=e.lastElementChild;return{word:t.textContent,name:n.textContent}}}},Qe=function(e){return function(t){var n=function(e,t){var n=e.tagName,r=Ye[n],o=r.Component,a=r.requireStore,i=r.requireTheme,c=r.inheritProps,s=r.extractProps,l=Ge(Ge({},c&&t),s(e)),u=Ce();return[a?function(e){return Xe(Oe.a,{store:u},e)}:function(e){return e},i?function(e){return Xe(re.a,{theme:l.theme},Xe(we.a,{theme:l.theme},e))}:function(e){return e}].reduce((function(e,t){return function(n){return e(t(n))}}))(Xe(o,l))}(t,e),r=function(e){var t=document.createElement("span");return e.parentNode&&e.parentNode.replaceChild(t,e),t}(t);ye.a.render(n,r)}},$e=function(e){if(!(null===e||void 0===e?void 0:e.asPath))return!1;var t=e.asPath.split("/");if(t.length){if("page"===t[1]&&"draft"!==t[t.length-1])return!0;if(("courses"===t[1]||"collection"===t[1])&&"draft"!==t[t.length-1]&&"versions"!==t[t.length-1])return!0}return!1},Ze=n("a6RD"),et=n.n(Ze),tt=function(e){for(var t=function(e){var t,n,r;return!!(null===(t=e.dataset)||void 0===t?void 0:t.id)||"div"===e.nodeName.toLowerCase()&&(null===(n=e.classList)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,"conceptBody"))};!t(e);)e=e.parentNode;return e},nt=function e(t,n){for(var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];;)return n?n.nodeType===Node.TEXT_NODE?n.textContent.trim()&&"\n"!==n.textContent.trim()?n:e(n,r?n.nextSibling:n.previousSibling,r):e(n,r?n.firstChild:n.lastChild,r):(r?t.nextSibling:t.previousSibling)?e(t,r?t.nextSibling:t.previousSibling,r):e(t=t.parentNode,r?t.nextSibling:t.previousSibling,r)},rt=b.a.createElement;function ot(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var lt="markdown_viewer_highlighted_content",ut="markdown_viewer_highlighted_content_with_comment",dt=function(e){Object(d.a)(r,e);var t=st(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(h.a)(Object(u.a)(e),"state",{selections:{},spanIdToMdChildIdMap:{},danglingSelections:{},contextMenuData:null,removeSelection:null,commentToReassign:null}),Object(h.a)(Object(u.a)(e),"touchEnabled",!1),Object(h.a)(Object(u.a)(e),"enableHighlights",$e(e.props.router)||e.props.isUsedInColumn),Object(h.a)(Object(u.a)(e),"setSelectionsFromSnapshot",(function(t){var n,r,o;if(t.contentSnapshot){var a=null!==(n=null===(r=t.contentSnapshot)||void 0===r?void 0:r.selections)&&void 0!==n?n:{};0===Object.keys(null!==(o=e.state.selections)&&void 0!==o?o:{}).length&&e.setState({selections:a},(function(){e.highlightAll()}))}})),Object(h.a)(Object(u.a)(e),"enableTouch",(function(){e.touchEnabled||(document.addEventListener("selectionchange",e.openCreateHighlightMenuDebounced),document.removeEventListener("touchstart",e.enableTouch),document.addEventListener("touchstart",e.handleOutsideClick),e.touchEnabled=!0)})),Object(h.a)(Object(u.a)(e),"highlightContextMenu",b.a.createRef()),Object(h.a)(Object(u.a)(e),"markdownViewer",b.a.createRef()),Object(h.a)(Object(u.a)(e),"parentDiv",b.a.createRef()),Object(h.a)(Object(u.a)(e),"handleOutsideClick",(function(t){if(e.touchEnabled)e.highlightContextMenu.current&&!e.highlightContextMenu.current.contains(t.target)&&e.cancelSelection();else{var n=e.parentDiv.current;n&&!n.contains(t.target)&&e.cancelSelection()}})),Object(h.a)(Object(u.a)(e),"isAnchorHeadingLink",(function(e){var t=function(e){return e.origin+e.pathname};return t(e)===t(window.location)})),Object(h.a)(Object(u.a)(e),"shouldOpenInNewTab",(function(t){return!e.isAnchorHeadingLink(t)})),Object(h.a)(Object(u.a)(e),"makeLinksToOpenInNewTab",(function(){var t=e.markdownViewer.current.querySelectorAll("a");Array.from(t).filter(e.shouldOpenInNewTab).forEach((function(e){return e.setAttribute("target","_blank")}))})),Object(h.a)(Object(u.a)(e),"setIDsForMdChilds",(function(){for(var t=e.markdownViewer.current.children,n=0;n<=t.length-1;n+=1)t[n].setAttribute("data-id",v()(t[n].textContent))})),Object(h.a)(Object(u.a)(e),"getCurrentSelection",(function(){var e,t,n,r,o;return null!==(e=null!==(t=null!==(n=null===(r=window)||void 0===r?void 0:r.getSelection())&&void 0!==n?n:null===(o=document)||void 0===o?void 0:o.getSelection())&&void 0!==t?t:document.selection.createRange().text)&&void 0!==e?e:null})),Object(h.a)(Object(u.a)(e),"getTheme",(function(e){return fe.e.includes(e)?S[fe.c[e]]:S[fe.c.default]})),Object(h.a)(Object(u.a)(e),"promise",void 0),Object(h.a)(Object(u.a)(e),"setContextMenuData",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e.markdownViewer.current){var c=e.markdownViewer.current.getBoundingClientRect(),s=null,l=null,u=15;r-c.left>c.width/2?l=c.right-r+20:s=r-c.left+20;var d=e.props,p=d.isUsedInColumn,f=d.widthOfComp,h=d.widthOfOtherComp,g=d.positionedLeft;if(p){var b=100*c.width/f,m=b*h/100;l=l&&g?l+m:l,s=s&&!g?s+m:s,u=0}e.setState((function(e){return ct(ct({},e),{},{contextMenuData:{edit:n,coords:{left:s,right:l,bottom:c.height+u-(o-c.top),rect:c},range:t,touch:a,isInsideConcept:i}})}))}})),Object(h.a)(Object(u.a)(e),"openEditHighlightMenu",(function(t,n){t.preventDefault(),t.stopPropagation(),e.cancelSelection(),e.setContextMenuData(t.target,!0,n?t.changedTouches[0].clientX:t.clientX,n?t.changedTouches[0].clientY:t.clientY,n)})),Object(h.a)(Object(u.a)(e),"openCreateHighlightMenuDebounced",O()((function(t){e.openCreateHighlightMenu(t)}))),Object(h.a)(Object(u.a)(e),"openCreateHighlightMenu",(function(t){if(t.preventDefault(),e.markdownViewer.current){var n=e.touchEnabled;try{var r=e.getCurrentSelection();if(n&&!e.markdownViewer.current.contains(r.focusNode))return;if((null===r||void 0===r?void 0:r.focusNode)&&!r.focusNode.tagName&&!r.isCollapsed&&r.focusNode.nodeType===Node.TEXT_NODE&&r.anchorNode&&r.anchorNode.nodeType===Node.TEXT_NODE&&""!==r.toString().trim()){var o,a,i=r.getRangeAt(0);if(!e.markdownViewer.current.contains(i.commonAncestorContainer))return;var c=tt(i.startContainer),s=(null===(o=c.classList)||void 0===o||null===(a=o.contains)||void 0===a?void 0:a.call(o,"conceptBody"))&&c.contains(i.endContainer),l=i.getBoundingClientRect();e.setContextMenuData(i,!1,n?(l.right+l.left)/2:t.clientX,n?l.bottom:t.clientY,n,s)}else n||e.cancelSelection()}catch(u){Object(x.b)(u),console.error(u,"\n ERROR AT MARKDOWN VIEWER > openCreateHighlightMenu")}}})),Object(h.a)(Object(u.a)(e),"highlightAll",(function(){var t=e.state,n=t.selections,r=t.danglingSelections,o={},a=!1,i=Array.from(e.markdownViewer.current.children).map((function(e){return e.getAttribute("data-id")}));Object.entries(n).forEach((function(t){var s=Object(c.a)(t,2),l=s[0],u=s[1],d=e.markdownViewer.current.querySelector('[data-id="'.concat(l,'"]'));if(null==d&&Array.isArray(u))return a=!0,n[l]=u.filter((function(e){return!!e.comment})),r[l]=u.filter((function(e){return!!e.comment})),void(0===r[l].length&&(delete r[l],delete n[l]));Array.isArray(u)&&u.forEach((function(t){try{var c;o=ct(ct({},o),{},Object(h.a)({},t.id,l));var s=null===(c=t.addMdChildNodes)||void 0===c?void 0:c.find((function(t){return null==e.markdownViewer.current.querySelector('[data-id="'.concat(t,'"]'))})),p=function(e,t){var n=i.indexOf(e);if(-1===n)return null;var r=n;if(Boolean(t)){var o,a=ot(t);try{for(a.s();!(o=a.n()).done;){var c=o.value;if(++r>i.length||i[r]!==c)return!0}}catch(s){a.e(s)}finally{a.f()}}return!1}(l,t.addMdChildNodes);if(null!=s||p)return a=!0,n[l]=u.filter((function(e){return!(e.id===t.id&&!e.comment)})),r[l]=u.filter((function(e){return e.id===t.id&&!!e.comment})),0===r[l].length&&delete r[l],void(0===n[l].length&&delete n[l]);var f=e.getToContainer(d.firstChild,t.range.firstPoint),g=f.node,b=f.offset,m=e.getToContainer(d.firstChild,t.range.lastPoint),v=m.node,y=m.offset,O=document.createRange();O.setStart(g,b),O.setEnd(v,y),e.applyHighlights(O,t.comment,t.id)}catch(j){Object(x.b)(j,ct(ct({},t),{},{mdChild_Id:l})),Object(C.c)(C.b.INTERACTION,C.a.INTERACTION_MD_HIGHLIGHT_NOTES_FAILED,"Highlight/Notes failed > highlightAll")}}))})),e.setState({spanIdToMdChildIdMap:o},(function(){a&&e.saveHighlights()}))})),Object(h.a)(Object(u.a)(e),"getToContainer",(function(t,n){if(t.firstChild)return e.getToContainer(t.firstChild,n);if(n<=t.textContent.length&&"\n"!==t.textContent)return{node:t,offset:n};if(t.nextSibling)return e.getToContainer(t.nextSibling,n-t.textContent.length);for(var r=t;!r.parentNode.nextSibling;)r=r.parentNode;return e.getToContainer(r.parentNode.nextSibling,n-t.textContent.length)})),Object(h.a)(Object(u.a)(e),"editHighlight",(function(t,n){var r=e.state,o=r.selections,a=r.spanIdToMdChildIdMap,i=t.dataset.id;o[a[i]].filter((function(e){return e.id===i}))[0].comment=n,n?Object(C.c)(C.b.INTERACTION,C.a.INTERACTION_MD_NOTE_SAVED,"NoteSaved"):Object(C.c)(C.b.INTERACTION,C.a.INTERACTION_MD_HIGHLIGHTED,"Highlighted"),e.setState({selections:o},(function(){e.saveHighlights();var t=e.markdownViewer.current.querySelectorAll('[data-id="'.concat(i,'"]'));Array.from(t).forEach((function(e){e.className=n?ut:lt})),e.cancelSelection()}))})),Object(h.a)(Object(u.a)(e),"removeHighlight",(function(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.state,a=o.commentToReassign,i=o.selections,c=e.state,s=c.spanIdToMdChildIdMap,l=c.danglingSelections,u=r?t.highlight_id:t.dataset.id,d=r?t.currentP_id:s[u],p=i[d].filter((function(e){return e.id===u}))[0],f=!r&&p.comment,g=!r&&t.parentNode,b=p.range,m=b.firstPoint,v=b.lastPoint;(r?(e.props.logWidgetInteraction({interaction_touch_point:w.k,paragraph_id:d,first_point:m,last_point:v}),Object(C.c)(C.b.INTERACTION,C.a.INTERACTION_MD_MOVED_NOTE_REMOVED,"MovedNoteRemoved")):f?(e.props.logWidgetInteraction({interaction_touch_point:w.m,paragraph_id:d,first_point:m,last_point:v}),Object(C.c)(C.b.INTERACTION,C.a.INTERACTION_MD_NOTE_REMOVED,"NoteRemoved")):(e.props.logWidgetInteraction({interaction_touch_point:w.j,paragraph_id:d,first_point:m,last_point:v}),Object(C.c)(C.b.INTERACTION,C.a.INTERACTION_MD_HIGHLIGHT_REMOVED,"HighlightRemoved")),f)?p.comment=null:(i=ct(ct({},i),{},Object(h.a)({},d,i[d].filter((function(e){return e.id!==u})))),r&&(l[d]=l[d].filter((function(e){return e.id!==u})),0===l[d].length&&delete l[d],0===i[d].length&&delete i[d],(null===(n=a)||void 0===n?void 0:n.id)===u&&(a=null)));e.setState({selections:i,danglingSelections:l,commentToReassign:a,contextMenuData:null},(function(){if(e.saveHighlights(),!r){var t=e.markdownViewer.current.querySelectorAll('[data-id="'.concat(u,'"]'));Array.from(t).forEach((function(e){f||e.parentNode.replaceChild(e.firstChild,e),e.className=lt})),g.normalize()}}))})),Object(h.a)(Object(u.a)(e),"createSpanForHighlight",(function(e,t){var n=document.createElement("span");return n.setAttribute("class",t),n.setAttribute("data-id",e),n})),Object(h.a)(Object(u.a)(e),"createHighlight",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{var o=null,a=e.state,c=a.danglingSelections,s=a.selections;r&&(o=r.id,n=r.comment,c[r.currentP_id]=c[r.currentP_id].filter((function(e){return e.id!==o})),0===c[r.currentP_id].length&&delete c[r.currentP_id],s[r.currentP_id]=s[r.currentP_id].filter((function(e){return e.id!==o})),0===s[r.currentP_id].length&&delete s[r.currentP_id]);var l=e.getStartPoint(t.startContainer.previousSibling,t.startContainer.parentNode,t.startOffset),u=l.mdChild_Id,d=l.offset,p=d+t.toString().length,f=[],g=e.applyHighlights(t,n,o,f,d,p),b=g.spanId,m=g.updatedFirstPoint,v=g.updatedLastPoint,y={id:b,comment:n,range:{firstPoint:m,lastPoint:v},addMdChildNodes:f};e.setState((function(e){return ct(ct({},e),{},{selections:ct(ct({},e.selections),{},Object(h.a)({},u,[].concat(Object(i.a)(e.selections[u]||[]),[y]))),danglingSelections:c,spanIdToMdChildIdMap:ct(ct({},e.spanIdToMdChildIdMap),{},Object(h.a)({},b,u)),commentToReassign:r?null:e.commentToReassign})}),(function(){e.saveHighlights(),e.cancelSelection(),r?(e.props.logWidgetInteraction({interaction_touch_point:w.l,paragraph_id:u,first_point:m,last_point:v}),Object(C.c)(C.b.INTERACTION,C.a.INTERACTION_MD_MOVED_NOTE_REASSIGNED,"NoteReassigned")):n?(e.props.logWidgetInteraction({interaction_touch_point:w.n,paragraph_id:u,first_point:m,last_point:v}),Object(C.c)(C.b.INTERACTION,C.a.INTERACTION_MD_NOTE_SAVED,"NoteSaved")):(e.props.logWidgetInteraction({interaction_touch_point:w.i,paragraph_id:u,first_point:m,last_point:v}),Object(C.c)(C.b.INTERACTION,C.a.INTERACTION_MD_HIGHLIGHTED,"Highlighted"))}))}catch(O){Object(x.b)(O,{range:t.toString()}),Object(C.c)(C.b.INTERACTION,C.a.INTERACTION_MD_HIGHLIGHT_NOTES_FAILED,"Highlight/Notes failed > createHighlight")}})),Object(h.a)(Object(u.a)(e),"getStartPoint",(function(t,n,r){var o,a;return t?!e.isSpan(t)&&(null===t||void 0===t||null===(o=t.dataset)||void 0===o?void 0:o.id)?{mdChild_Id:t.dataset.id,offset:r}:e.getStartPoint(t.previousSibling,n,r+t.textContent.length):!e.isSpan(n)&&(null===n||void 0===n||null===(a=n.dataset)||void 0===a?void 0:a.id)?e.getStartPoint(n,n.parentNode,r):e.getStartPoint(n.previousSibling,n.parentNode,r)})),Object(h.a)(Object(u.a)(e),"applyHighlights",(function(t,n){var r,o,a,i,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,d=c||Object(E.d)(),p=n?ut:lt,f=[],h=!1,g={nodesToFilter:[],endParentNode:tt(t.endContainer),startParentNode:tt(t.startContainer)},b=null===(r=g.endParentNode.classList)||void 0===r||null===(o=r.contains)||void 0===o?void 0:o.call(r,"conceptBody"),m=null===(a=g.startParentNode.classList)||void 0===a||null===(i=a.contains)||void 0===i?void 0:i.call(a,"conceptBody"),v=u,y=l;if(m){y-=t.startOffset-1,v-=g.startParentNode.textContent.length;var O=nt(g.startParentNode,g.startParentNode.nextSibling);t.setStart(O,0)}if(b){v-=t.endOffset;var j=nt(g.endParentNode,g.endParentNode.previousSibling,!1);t.setEnd(j,j.textContent.length)}for(var C=t.startContainer;!h;)if(!(h=e.findAllTextNodesinRange(C,t.endContainer,f,s,g.nodesToFilter))){for(;!C.parentNode.nextSibling;)C=C.parentNode;C=C.parentNode.nextSibling}var w=g.nodesToFilter.reduce((function(e,t){var n;return e+(null===(n=t.textContent)||void 0===n?void 0:n.length)}),0);return v-=w,f[0].length>t.startOffset&&(f[0]=f[0].splitText(t.startOffset)),f[f.length-1].length>t.endOffset&&(f[f.length-1]=f[f.length-1].splitText(t.endOffset).previousSibling),f=f.map((function(t){var n=e.createSpanForHighlight(d,p);return t.parentNode.insertBefore(n,t),t.parentNode.removeChild(t),n.appendChild(t),t.parentNode.onclick=function(t){return e.openEditHighlightMenu(t,!1)},t.parentNode.ontouchend=function(t){return e.openEditHighlightMenu(t,!0)},t})),{spanId:d,updatedFirstPoint:y,updatedLastPoint:v}})),Object(h.a)(Object(u.a)(e),"findAllTextNodesinRange",(function(t,n,r,o){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=!1;t&&!i;t=t.nextSibling){var c,s,l,u;if(null===(c=t.classList)||void 0===c||null===(s=c.contains)||void 0===s?void 0:s.call(c,"conceptBody"))a.push(t);else if(t.nodeType===Node.TEXT_NODE)"\n"!==t.data&&r.push(t),t.isSameNode(n)&&(i=!0);else o&&!e.isSpan(t)&&(null===(l=t)||void 0===l||null===(u=l.dataset)||void 0===u?void 0:u.id)&&o.push(t.dataset.id),i=e.findAllTextNodesinRange(t.firstChild,n,r,o,a)}return i})),Object(h.a)(Object(u.a)(e),"isSpan",(function(e){return"span"===e.nodeName.toLowerCase()&&(e.className===lt||e.className===ut)})),Object(h.a)(Object(u.a)(e),"saveCommenToReassign",(function(t){e.state.commentToReassign!==t&&(e.setState({commentToReassign:t}),Object(C.c)(C.b.INTERACTION,C.a.INTERACTION_MD_MOVED_NOTE_REASSIGN_INIT,"NoteReassignInit"))})),Object(h.a)(Object(u.a)(e),"cancelSelection",(function(){null!==e.state.contextMenuData&&e.setState({contextMenuData:null})})),Object(h.a)(Object(u.a)(e),"stopRemoveSelection",(function(){e.setState({removeSelection:!1})})),Object(h.a)(Object(u.a)(e),"saveHighlights",(function(){var t=e.state.selections;e.props.saveHighlights({selections:t})})),Object(h.a)(Object(u.a)(e),"removeAllDanglingSelections",(function(){var t=e.state,n=t.danglingSelections,r=t.selections;Object.keys(n).forEach((function(e){delete r[e]})),Object(C.c)(C.b.INTERACTION,C.a.INTERACTION_MD_MOVED_NOTE_REMOVED_ALL,"MovedNotesAllRemoved"),e.setState({danglingSelections:{}},(function(){e.saveHighlights()}))})),Object(h.a)(Object(u.a)(e),"calculateBackgroundDetail",(function(){if(e.props.backgroundColor&&!e.state.backgroundDetail){var t={left:e.parentDiv.current.getBoundingClientRect().left};e.setState({backgroundDetail:t})}})),e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.enableHighlights&&(document.addEventListener("mousedown",this.handleOutsideClick),document.addEventListener("touchstart",this.enableTouch)),this.updateView(),this.setSelectionsFromSnapshot(this.props)}},{key:"componentDidUpdate",value:function(e){var t,n,r,o,a,i,c;this.enableHighlights=$e(this.props.router)||this.props.isUsedInColumn,this.props!==e&&this.setSelectionsFromSnapshot(this.props);var s=null===(t=this.props)||void 0===t||null===(n=t.docker)||void 0===n||null===(r=n.container)||void 0===r||null===(o=r.liveInstance)||void 0===o?void 0:o.id,l=null===e||void 0===e||null===(a=e.docker)||void 0===a||null===(i=a.container)||void 0===i||null===(c=i.liveInstance)||void 0===c?void 0:c.id;this.enableHighlights&&e.mdHtml===this.props.mdHtml&&s===l&&e.userThemes===this.props.userThemes||this.updateView()}},{key:"componentWillUnmount",value:function(){this.enableHighlights&&(document.removeEventListener("mousedown",this.handleOutsideClick),this.touchEnabled&&(document.removeEventListener("selectionchange",this.openCreateHighlightMenuDebounced),document.removeEventListener("touchstart",this.handleOutsideClick)))}},{key:"setColorization",value:function(){var e=Object(a.a)(o.a.mark((function e(){var t,r,i,c,s=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.userThemes||"default",r="cm-viewer-markdown disable-cursor",!Array.from(this.markdownViewer.current.querySelectorAll("pre")).filter((function(e){return e.getAttribute("class")!==r})).length){e.next=8;break}return e.next=5,et()((function(){return Promise.all([n.e(65),n.e(24),n.e(49)]).then(n.bind(null,"XtXU"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["XtXU"]},modules:["components/helpers/MonacoEditor"]}}).render.preload();case 5:i=e.sent,c=null,this.markdownViewer.current&&Array.from(this.markdownViewer.current.querySelectorAll("pre")).filter((function(e){return e.getAttribute("class")!==r})).forEach(function(){var e=Object(a.a)(o.a.mark((function e(n){var a,l,u,d,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(a=n.firstElementChild)||void 0===a?void 0:a.textContent)&&!(a.textContent.length<1)){e.next=3;break}return e.abrupt("return");case 3:l=a.getAttribute("class")?a.getAttribute("class").replace("language-",""):fe.d,n.setAttribute("class",r),(u=a.textContent).length&&("\n"!==(d=u.charAt(u.length-1))&&"\r"!==d||(u=u.slice(0,-1))),p=s.getTheme(t),n.setAttribute("style","background-color: ".concat(p.background,"; border-radius: 0px;")),c=Object(k.a)(null===l||void 0===l?void 0:l.toLowerCase()),a.setAttribute("data-lang",c),a.textContent=u,i.default.colorize(a,{theme:p.colorizeTheme});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:this.markdownViewer.current&&(this.props.openLinksInNewTab&&this.makeLinksToOpenInNewTab(),this.enableHighlights&&this.setIDsForMdChilds());case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateView",value:function(){this.renderCustomElements(),this.promise=this.setColorization(),this.calculateBackgroundDetail()}},{key:"renderCustomElements",value:function(){this.markdownViewer.current.querySelectorAll("keyword, concept").forEach(Qe(this.props))}},{key:"render",value:function(){var e=this.state,t=e.contextMenuData,n=e.selections,r=e.danglingSelections,o=e.removeSelection,a=e.commentToReassign,i=e.spanIdToMdChildIdMap,c=e.backgroundDetail,s=this.props,l=s.isShot,u=s.backgroundColor,d=s.isQuiz,p=s.isUsedInColumn?"100%":"auto";return rt(b.a.Fragment,null,rt(me,null),rt(he.a,{className:"markdown-container-div",height:p,ref:this.parentDiv},u&&c&&rt("div",{style:{right:0,left:-1*c.left,top:0,bottom:0,width:"calc(100vw + ".concat(c.left,"px)"),position:"absolute",backgroundColor:u,zIndex:_.z,height:p}}),t&&rt(X,{ref:this.highlightContextMenu,closeMenu:this.cancelSelection,onHighlightCreate:this.createHighlight,onHighlightEdit:this.editHighlight,onHighlightRemove:this.removeHighlight,selections:n,spanToMdChild:i,menuData:t,commentToReassign:a,removeSelection:!!o,onStopRemoveSelection:this.stopRemoveSelection}),Object.keys(null!==r&&void 0!==r?r:{}).length>0&&rt(pe,{onSaveCommenToReassign:this.saveCommenToReassign,onHighlightRemove:this.removeHighlight,onRemoveAll:this.removeAllDanglingSelections,danglingSelections:r}),d?rt(F.a,{variant:"bodyMedium"},rt(he.c,{className:"markdownViewerQuiz",ref:this.markdownViewer,role:"none",onMouseUp:this.enableHighlights&&!l?this.openCreateHighlightMenu:function(){},dangerouslySetInnerHTML:{__html:this.props.mdHtml}})):rt(he.d,{className:"markdownViewer",id:V.C?this.props.id:null,ref:this.markdownViewer,role:"none",onMouseUp:this.enableHighlights&&!l?this.openCreateHighlightMenu:function(){},renderedInTOC:this.props.renderedInTOC,setHeight:this.props.isUsedInColumn,dangerouslySetInnerHTML:{__html:this.props.mdHtml}})))}}]),r}(b.a.Component);Object(h.a)(dt,"defaultProps",{openLinksInNewTab:!0,contentSnapshot:null,saveHighlights:null,docker:{container:{liveInstance:{}}},logWidgetInteraction:function(){return null},isShot:!1,backgroundColor:null,isQuiz:!1,renderedInTOC:!1,isUsedInColumn:!1,conceptIdBacktrace:[],widthOfComp:50,widthOfOtherComp:50});t.a=Object(j.withRouter)(Object(Z.a)(dt))},PDX0:function(e,t){(function(t){e.exports=t}).call(this,{})},SWXX:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n("vOnD"),o=n("Dsxo"),a=r.d.div.withConfig({displayName:"styles__HighlightContextMenuStyled",componentId:"sc-1iktvnh-0"})(["position:absolute;z-index:100;"]),i=r.d.div.withConfig({displayName:"styles__Menu",componentId:"sc-1iktvnh-1"})(["background-color:",";border-radius:",";box-shadow:0 0 10px ",";padding:10px 0px 10px;"],(function(e){return e.theme.palette.common.white}),o.w,(function(e){return e.theme.palette.alphas.black2})),c=r.d.div.withConfig({displayName:"styles__Menu_ButtonsContainer",componentId:"sc-1iktvnh-2"})(["display:flex;justify-content:center;"]),s=r.d.div.withConfig({displayName:"styles__Menu_ButtonsContainer_Button",componentId:"sc-1iktvnh-3"})(["width:44px;height:100%;display:inline-flex;justify-content:center;align-items:center;transition:0.2s;:hover{svg{stroke:",";}}",""],(function(e){return e.theme.palette.primary.main}),(function(e){return e.danger&&Object(r.c)([":hover{svg{stroke:",";}}"],(function(e){return e.theme.palette.error.main}))})),l=r.d.div.withConfig({displayName:"styles__Menu_TextPreview",componentId:"sc-1iktvnh-4"})(["margin:10px 15px 10px;padding:4px 10px;border:1px solid ",";border-left:8px solid ",";max-width:250px;max-height:250px;overflow-y:auto;text-align:left;white-space:pre-line;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;"],(function(e){return e.theme.palette.grey[300]}),(function(e){return e.theme.palette.primary.lightP1})),u=r.d.div.withConfig({displayName:"styles__EditNote",componentId:"sc-1iktvnh-5"})(["position:relative;user-select:none !important;width:320px;height:250px;border-radius:",";box-shadow:0 0 10px ",";background-color:",";padding:20px;"],o.l,(function(e){return e.theme.palette.alphas.black1}),(function(e){return e.theme.palette.common.white})),d=r.d.div.withConfig({displayName:"styles__EditNote_Counter",componentId:"sc-1iktvnh-6"})(["color:",";position:absolute;bottom:50px;right:20px;width:auto;z-index:3;"],(function(e){return e.theme.palette.grey[600]})),p=r.d.textarea.withConfig({displayName:"styles__EditNote_Input",componentId:"sc-1iktvnh-7"})(["width:100%;resize:none;height:auto;min-height:160px;outline:none;border-radius:",";border:1px solid ",";margin:0 0 10px 0;padding:10px 10px 0px 10px;"],o.u,(function(e){return e.theme.palette.grey[300]})),f=r.d.div.withConfig({displayName:"styles__EditNote_ButtonsContainer",componentId:"sc-1iktvnh-8"})(["display:flex;justify-content:space-around;padding:5px 30px;"]);t.i=a},StAi:function(e,t,n){"use strict";var r=n("DmeH"),o=n("7ZwO");t.a=function(){return function(e){return function(t){switch(t.type){case r.b.set.type:Object(o.b)(t.payload.key_id,t.payload.value)}e(t)}}}},SuWi:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("rePB"),o=n("Ff2n");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=Symbol("Call API");t.b=function(e){return function(e){return function(t){if(!function(e){if(!e)return!1;var t=e[c];return"undefined"!==typeof t&&!!t.promise}(t))return e(t);var n=t[c],r=n.types,a=n.promise,s=n.cb,l=Object(o.a)(n,["types","promise","cb"]),u=null===r||void 0===r?void 0:r.pending.type,d=null===r||void 0===r?void 0:r.fulfilled.type,p=null===r||void 0===r?void 0:r.rejected.type;return r&&e(function(e){var n=i(i({},t),e);return delete n[c],n}(i(i({},l),{},{type:u}))),a().then((function(t){return r&&e(i(i({},l),{},{payload:t,type:d})),s&&s(null,t),t})).catch((function(t){r&&e(i(i({},l),{},{error:t,type:p})),s&&s(t)}))}}}},SvKN:function(e,t,n){"use strict";var r=n("Ff2n"),o=n("o0o1"),a=n.n(o),i=n("HaE+"),c=n("ODXe"),s=n("1OyB"),l=n("vuIU"),u=n("JX7q"),d=n("Ji7U"),p=n("md7G"),f=n("foSv"),h=n("rePB"),g=n("q1tI"),b=n.n(g),m=n("/MKj"),v=n("fNkK"),y=n("IVFz");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e,t){return"/api/author/".concat(e,"/collection/").concat(t,"/concept")},w=function(e){var t,n,r;if(!(null===(t=e())||void 0===t||null===(n=t.author)||void 0===n||null===(r=n.concepts)||void 0===r?void 0:r.data))throw Error("Concepts were not loaded")},x=n("XZhq"),k=b.a.createElement;function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}t.a=function(e){var t=Object(m.b)((function(e){var t=e.author,n=e.modals,r=e.assessment,o=t.collection,a=t.concepts,i=a.loaded,c=a.loading,s=a.data,l=a.error,u=null,d=null;if(null===o||void 0===o?void 0:o.instance){var p,f;u=null===(p=o.instance)||void 0===p?void 0:p.details.author_id,d=null===(f=o.instance)||void 0===f?void 0:f.details.collection_id}else{var h=r.data;u=null===h||void 0===h?void 0:h.author_id,d=null===h||void 0===h?void 0:h.collection_id}var g=n.typeToShow;return{conceptProviderStateProps:{authorId:u,collectionId:d,shouldLoadConcepts:!i&&!c,conceptsLoading:c,concepts:n.showModal&&g===x.n?{conceptName:{id:0,usageCount:1,comps:[{hash:0,mode:"view",type:"MarkdownEditor",content:{version:"2.0",text:"Markdown Help Concept",mdHtml:"<p>Markdown Help Concept</p>",cursorPosition:{line:0,ch:0}}}]}}:s,error:l}}}),(function(e){return{conceptProviderDispatchProps:{loadConceptNames:function(t){e(y.a.loadMetadata(t))},loadConcept:function(t){e(y.a.load(t))},createConcept:function(t){return e(function(e){var t=e.authorId,n=e.collectionId,r=e.name,o=e.comps;return function(e,a){var i=JSON.stringify(o);return Object(v.a)({url:C(t,n),type:"POST",data:{name:r,json_data:i}}).then(JSON.parse).then((function(t){var n=t.id,i=t.usage_count;w(a),e(y.a.update({id:n,name:r,comps:o,usageCount:i}))}))}}(t))},editConcept:function(t){return e(function(e){var t=e.authorId,n=e.collectionId,r=e.conceptId,o=e.name,a=e.comps;return function(e,i){var c=a&&JSON.stringify(a);return Object(v.a)({url:C(t,n)+"/".concat(r),type:"PUT",data:j(j({},o&&{name:o}),c&&{json_data:c})}).then(JSON.parse).then((function(t){var n=t.usage_count;w(i),e(y.a.update({id:r,name:o,comps:a,usageCount:n}))}))}}(t))},deleteConcept:function(t){return e(function(e){var t=e.authorId,n=e.collectionId,r=e.conceptId;return function(e,o){return Object(v.a)({url:C(t,n)+"/".concat(r),type:"DELETE"}).then((function(){w(o),e(y.a.remove({id:r}))}))}}(t))},dispatch:e}}})),n=function(t){Object(d.a)(o,t);var n=_(o);function o(){var e;Object(s.a)(this,o);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=n.call.apply(n,[this].concat(r)),Object(h.a)(Object(u.a)(e),"getConcepts",(function(){var t=e.props.conceptProviderStateProps,n=t.concepts,r=t.error;return void 0===n?S({loaded:!1},r&&{error:r}):{loaded:!0,concepts:n}})),Object(h.a)(Object(u.a)(e),"getConceptByName",(function(t){var n=e.props.conceptProviderStateProps,r=n.authorId,o=n.collectionId,a=n.concepts,i=n.conceptsLoading,c=n.error,s=e.props.conceptProviderDispatchProps.loadConcept;if(void 0===a)return S({loaded:!1},c&&{error:c});var l=a[t];if(void 0===l)return{loaded:!0};var u=l.id,d=l.comps,p=l.usageCount;if(void 0===d){if(r&&o&&!i)s({authorId:r,collectionId:o,conceptId:u,published:!e.props.isDraft});return S({loaded:!1},c&&{error:c})}return{loaded:!0,concept:{id:u,comps:d,usageCount:p}}})),Object(h.a)(Object(u.a)(e),"getConceptById",(function(t){var n=e.props.conceptProviderStateProps,r=n.authorId,o=n.collectionId,a=n.concepts,i=n.conceptsLoading,s=n.error,l=e.props.conceptProviderDispatchProps.loadConcept;if(void 0===a)return S({loaded:!1},s&&{error:s});var u=Object.entries(a).find((function(e){var n=Object(c.a)(e,2);n[0];return n[1].id===t}));if(void 0===u)return{loaded:!0};var d=Object(c.a)(u,2),p=d[0],f=d[1],h=f.comps,g=f.usageCount;if(void 0===h){if(r&&o&&!i){var b=!e.props.isDraft;l({authorId:r,collectionId:o,conceptId:t,published:b})}return S({loaded:!1},s&&{error:s})}return{loaded:!0,concept:{name:p,comps:h,usageCount:g}}})),Object(h.a)(Object(u.a)(e),"getConceptNameById",(function(t){var n=e.props.conceptProviderStateProps,r=n.concepts,o=n.error;if(void 0===r)return S({loaded:!1},o&&{error:o});var a=Object.entries(r).find((function(e){var n=Object(c.a)(e,2);n[0];return n[1].id===t}));return void 0===a?{loaded:!0}:{loaded:!0,name:Object(c.a)(a,1)[0]}})),Object(h.a)(Object(u.a)(e),"getConceptIdByName",(function(t){var n=e.props.conceptProviderStateProps,r=n.concepts,o=n.error;if(void 0===r)return S({loaded:!1},o&&{error:o});var a=r[t];return void 0===a?{loaded:!0}:{loaded:!0,id:a.id}})),Object(h.a)(Object(u.a)(e),"errorPromise",function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(h.a)(Object(u.a)(e),"createConcept",(function(t,n){var r=Object(u.a)(e).errorPromise,o=e.props.conceptProviderStateProps,a=o.authorId,i=o.collectionId,c=e.props.conceptProviderDispatchProps.createConcept;return a&&i?c({authorId:a,collectionId:i,name:t,comps:n}):r("Not ready to create")})),Object(h.a)(Object(u.a)(e),"editConcept",(function(t,n,r){var o=Object(u.a)(e).errorPromise,a=e.props.conceptProviderStateProps,i=a.authorId,c=a.collectionId,s=e.props.conceptProviderDispatchProps.editConcept;return i&&c?s({authorId:i,collectionId:c,conceptId:t,name:n,comps:r}):o("Not ready to edit")})),Object(h.a)(Object(u.a)(e),"deleteConcept",(function(t){var n=Object(u.a)(e).errorPromise,r=e.props.conceptProviderStateProps,o=r.authorId,a=r.collectionId,i=e.props.conceptProviderDispatchProps.deleteConcept;return o&&a?i({authorId:o,collectionId:a,conceptId:t}):n("Not ready to delete")})),e}return Object(l.a)(o,[{key:"componentDidMount",value:function(){var e=this.props.conceptProviderStateProps,t=e.authorId,n=e.collectionId,r=e.shouldLoadConcepts,o=this.props.conceptProviderDispatchProps.loadConceptNames;t&&n&&r&&o({authorId:t,collectionId:n,published:!this.props.isDraft})}},{key:"componentDidUpdate",value:function(e){var t=this.props.conceptProviderStateProps,n=t.authorId,r=t.collectionId,o=t.shouldLoadConcepts,a=e.conceptProviderStateProps,i=a.authorId,c=a.collectionId,s=this.props.conceptProviderDispatchProps.loadConceptNames;n&&r&&(n!==i||r!==c)&&o&&s({authorId:n,collectionId:r,published:!this.props.isDraft})}},{key:"render",value:function(){var t=this.props,n=(t.conceptProviderStateProps,t.conceptProviderDispatchProps),o=Object(r.a)(t,["conceptProviderStateProps","conceptProviderDispatchProps"]),a={getConcepts:this.getConcepts,getConceptById:this.getConceptById,getConceptByName:this.getConceptByName,getConceptNameById:this.getConceptNameById,getConceptIdByName:this.getConceptIdByName,createConcept:this.createConcept,editConcept:this.editConcept,deleteConcept:this.deleteConcept,dispatch:n.dispatch},i=S(S({},o),a);return k(e,i)}}]),o}(b.a.Component);return Object(h.a)(n,"defaultProps",{isDraft:!0}),t(n)}},VRBI:function(e,t,n){"use strict";var r=n("rePB"),o=n("Ff2n");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return function(e){return function(t){if(!function(e){if(!e)return!1;var t=e.postProcess,n=e.payload;return!(!t||!n)}(t))return e(t);var n=t.postProcess,r=t.payload,a=Object(o.a)(t,["postProcess","payload"]);return e(i(i({},a),{},{payload:n?n(r):r}))}}}},W3D4:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function outputTransform(stdout, stderr) {\n  // Transform output or perform API key extraction.\n  const apiKeys = {};\n  return { apiKeys, stdout, stderr };\n}"},Wm40:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("1OyB"),o=n("vuIU"),a=n("JX7q"),i=n("Ji7U"),c=n("md7G"),s=n("foSv"),l=n("rePB"),u=n("q1tI"),d=n.n(u),p=n("IzWC"),f=n("h4VS"),h=n("vOnD");function g(){var e=Object(f.a)(["\n  .highlight-lines-global {\n    transition: 0.2s;\n    cursor: pointer;\n    &:hover {\n      color: "," !important;\n    }\n  }\n"]);return g=function(){return e},e}var b=Object(h.b)(g(),(function(e){return e.theme.palette.primary.main})),m=d.a.createElement;function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var o=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var y=function(e){Object(i.a)(n,e);var t=v(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),Object(l.a)(Object(a.a)(e),"state",{isEditing:!1}),Object(l.a)(Object(a.a)(e),"controlRef",d.a.createRef()),Object(l.a)(Object(a.a)(e),"onBlur",(function(t){e.setState({isEditing:!1}),e.props.onChangeLines(t)})),e}return Object(o.a)(n,[{key:"changeToEditMode",value:function(e){e.preventDefault(),this.setState({isEditing:!0})}},{key:"renderEditMode",value:function(){var e=this;return m(p.a,{placeholder:"Enter line ranges to highlight                                                                                                                            1                                                                                                                                                                         5 9",rows:3,cols:25,inputRef:function(t){e.controlRef.current=t},componentClass:"textarea",defaultValue:this.props.value,onBlur:this.onBlur})}},{key:"renderReadMode",value:function(){return m("span",{onClick:this.changeToEditMode.bind(this),className:"highlight-lines-global"},"Highlight lines")}},{key:"componentDidUpdate",value:function(e,t){var n;this.state.isEditing&&(null===(n=this.controlRef.current)||void 0===n||n.focus())}},{key:"render",value:function(){return m("div",{style:{display:"inline-flex",marginRight:15}},m(b,null),this.state.isEditing?this.renderEditMode():this.renderReadMode())}}]),n}(d.a.Component)},ZwUw:function(e,t,n){"use strict";var r=n("3Epe"),o=n("MF81"),a=n("BykT"),i=n("H3mV"),c=n("9JIs"),s=n("0t6C"),l=[a.a,c.b].map((function(e){return e.pending.type})),u=[i.b,a.a,a.a,c.b,s.b].map((function(e){return e.fulfilled.type})),d={};t.a=function(e){return function(t){return function(n){var p,f,h,g;if(l.includes(n.type)){d={compIds:null,authorId:null,userId:null,pageId:null,collectionId:null};var b=n.resetWidgetUserData;return(void 0===b||b)&&e.dispatch(o.f.reset()),t(n)}var m=e.getState();if(d.userId=null===m||void 0===m||null===(p=m.user)||void 0===p||null===(f=p.info)||void 0===f||null===(h=f.data)||void 0===h?void 0:h.user_id,!u.includes(n.type)||!d.userId)return t(n);if(n.type===s.b.fulfilled.type||n.type===i.b.fulfilled.type){if(!n.payload.components)return t(n);d.compIds=n.payload.components.map((function(e){return e.content.comp_id})).filter(Boolean)}return n.type===c.b.fulfilled.type&&(d.authorId=n.payload.author_id,d.pageId=n.payload.id),n.type===a.a.fulfilled.type&&(d.authorId=n.payload.author_id,d.collectionId=n.payload.collection_id,d.pageId=n.payload.page_id),(null===(g=d.compIds)||void 0===g?void 0:g.length)&&d.authorId&&d.userId&&d.pageId&&e.dispatch(Object(r.b)(d)),t(n)}}}},aQzX:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return b}));var r=n("vOnD"),o=n("ulad"),a=n("z430"),i=n("Dsxo"),c=n("PS9J"),s=n("zGpi"),l=r.d.div.withConfig({displayName:"styles__MarkdownEditorStyled",componentId:"sc-1vi6ja9-0"})(["width:100%;.textEditor-Markdown{position:relative;}.textEditor-Markdown-label{z-index:100;text-align:center;border-bottom:none;background:",";border-radius:",";padding:10px 0;width:100%;&.left{left:-10px;}}@media (max-width:480px){.textEditor-Markdown-label{text-align:left;}}.btn .btn-expand{position:absolute;right:15px;top:5px;border:none;background:transparent;svg{transition:0.2s;cursor:pointer;&:hover{stroke:",";}}&:active,&:hover,&:focus{outline:none;background:transparent;box-shadow:none;}}.btn .btn-close{border:none;background:transparent;padding:0;position:absolute;top:27px;right:30px;z-index:1;svg{transition:0.2s;cursor:pointer;&:hover{stroke:",";}}&:active,&:hover,&:focus{outline:none;background:transparent;box-shadow:none;}& > i{font-size:20px;}}.panel{box-shadow:none;border-color:",";margin-bottom:0;height:40px;.b-btn_default{color:",";line-height:0;vertical-align:super;&:hover{color:",";}}.panel-body{padding:0;}.grid-icon{stroke:",";margin:6px 8px 0px 9px;transition:0.2s;cursor:pointer;&:hover{stroke:",";}}.grid-icon-no-right-padding{stroke:",";margin:6px 0px 0px 9px;transition:0.2s;cursor:pointer;&:hover{stroke:",";}}.b-image-slim-uploader{width:35px;height:35px;.image-upload-btn{margin:0;color:",";padding:0;top:2px;&:hover{color:",";}}.form-control[type='file']{width:50px;height:auto;}}.markdown-help-icon{@media (max-width:","){display:none;}}}"],(function(e){return e.theme.palette.grey[100]}),i.u,(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.grey[300]}),(function(e){return e.theme.palette.grey[400]}),(function(e){return e.theme.palette.grey[500]}),(function(e){return e.theme.palette.grey[400]}),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.grey[400]}),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.grey[400]}),(function(e){return e.theme.palette.grey[500]}),s.g.pixels),u=Object(r.d)(l).withConfig({displayName:"styles__FullScreen",componentId:"sc-1vi6ja9-1"})(["padding:20px;overflow-y:auto;.col,.row,.textEditor-Markdown,.cmcomp-editor-container-markdown,.CodeMirror-wrap,.markdownViewer,.viewer-container{height:100%;}.markdownViewer{overflow:auto;}"]),d=r.d.div.withConfig({displayName:"styles__SpellCheckToggle",componentId:"sc-1vi6ja9-2"})(["position:absolute;top:10px;right:30px;line-height:0;cursor:pointer;svg{transition:0.2s;cursor:pointer;&:hover{stroke:",";}}.switch{width:34px;height:18px;& .switch-toggle{width:17px;height:16px;}& .on{background:",";.switch-toggle{left:15px;}}}"],(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.grey[400]})),p=Object(r.d)(d).withConfig({displayName:"styles__SpellCheckToggleFullScreen",componentId:"sc-1vi6ja9-3"})(["right:53px;svg{transition:0.2s;cursor:pointer;&:hover{stroke:",";}}"],(function(e){return e.theme.palette.primary.main})),f=r.d.div.withConfig({displayName:"styles__PreviewToggle",componentId:"sc-1vi6ja9-4"})(["position:absolute;top:11px;right:60px;cursor:pointer;"," svg{transition:0.2s;cursor:pointer;&:hover{stroke:",";}}"],(function(e){return e.inQuiz&&Object(r.c)(["right:30px;"])}),(function(e){return e.theme.palette.primary.main})),h=Object(r.d)(f).withConfig({displayName:"styles__PreviewToggleFullScreen",componentId:"sc-1vi6ja9-5"})(["right:83px;",""],(function(e){return e.inQuiz&&Object(r.c)(["right:30px;"])})),g=Object(r.d)(o.a).withConfig({displayName:"styles__PopOver",componentId:"sc-1vi6ja9-6"})(["z-index:",";"],c.c),b=Object(r.d)(a.a).withConfig({displayName:"styles__MarkdownTextarea",componentId:"sc-1vi6ja9-7"})(["width:98%;border:none;background:transparent;outline:none;resize:none;font-family:Consolas,'Liberation Mono',Menlo,Courier,monospace;min-height:50px;"]);t.h=l},gjeX:function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"===typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"===typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"===typeof module&&module.exports,AMD=__webpack_require__("PDX0"),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e){return function(t){return new Md5(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Md5},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"===typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null===e||void 0===e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw ERROR;if(null===e)throw ERROR;if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw ERROR;t=!0}for(var r,o,a=0,i=e.length,c=this.blocks,s=this.buffer8;a<i;){if(this.hashed&&(this.hashed=!1,c[0]=c[16],c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),t)if(ARRAY_BUFFER)for(o=this.start;a<i&&o<64;++a)s[o++]=e[a];else for(o=this.start;a<i&&o<64;++a)c[o>>2]|=e[a]<<SHIFT[3&o++];else if(ARRAY_BUFFER)for(o=this.start;a<i&&o<64;++a)(r=e.charCodeAt(a))<128?s[o++]=r:r<2048?(s[o++]=192|r>>6,s[o++]=128|63&r):r<55296||r>=57344?(s[o++]=224|r>>12,s[o++]=128|r>>6&63,s[o++]=128|63&r):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++a)),s[o++]=240|r>>18,s[o++]=128|r>>12&63,s[o++]=128|r>>6&63,s[o++]=128|63&r);else for(o=this.start;a<i&&o<64;++a)(r=e.charCodeAt(a))<128?c[o>>2]|=r<<SHIFT[3&o++]:r<2048?(c[o>>2]|=(192|r>>6)<<SHIFT[3&o++],c[o>>2]|=(128|63&r)<<SHIFT[3&o++]):r<55296||r>=57344?(c[o>>2]|=(224|r>>12)<<SHIFT[3&o++],c[o>>2]|=(128|r>>6&63)<<SHIFT[3&o++],c[o>>2]|=(128|63&r)<<SHIFT[3&o++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++a)),c[o>>2]|=(240|r>>18)<<SHIFT[3&o++],c[o>>2]|=(128|r>>12&63)<<SHIFT[3&o++],c[o>>2]|=(128|r>>6&63)<<SHIFT[3&o++],c[o>>2]|=(128|63&r)<<SHIFT[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,n,r,o,a,i=this.blocks;this.first?t=((t=((e=((e=i[0]-680876937)<<7|e>>>25)-271733879<<0)^(n=((n=(-271733879^(r=((r=(-1732584194^2004318071&e)+i[1]-117830708)<<12|r>>>20)+e<<0)&(-271733879^e))+i[2]-1126478375)<<17|n>>>15)+r<<0)&(r^e))+i[3]-1316259209)<<22|t>>>10)+n<<0:(e=this.h0,t=this.h1,n=this.h2,t=((t+=((e=((e+=((r=this.h3)^t&(n^r))+i[0]-680876936)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+i[1]-389564586)<<12|r>>>20)+e<<0)&(e^t))+i[2]+606105819)<<17|n>>>15)+r<<0)&(r^e))+i[3]-1044525330)<<22|t>>>10)+n<<0),t=((t+=((e=((e+=(r^t&(n^r))+i[4]-176418897)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+i[5]+1200080426)<<12|r>>>20)+e<<0)&(e^t))+i[6]-1473231341)<<17|n>>>15)+r<<0)&(r^e))+i[7]-45705983)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(r^t&(n^r))+i[8]+1770035416)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+i[9]-1958414417)<<12|r>>>20)+e<<0)&(e^t))+i[10]-42063)<<17|n>>>15)+r<<0)&(r^e))+i[11]-1990404162)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(r^t&(n^r))+i[12]+1804603682)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+i[13]-40341101)<<12|r>>>20)+e<<0)&(e^t))+i[14]-1502002290)<<17|n>>>15)+r<<0)&(r^e))+i[15]+1236535329)<<22|t>>>10)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+i[1]-165796510)<<5|e>>>27)+t<<0)^t))+i[6]-1069501632)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+i[11]+643717713)<<14|n>>>18)+r<<0)^r))+i[0]-373897302)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+i[5]-701558691)<<5|e>>>27)+t<<0)^t))+i[10]+38016083)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+i[15]-660478335)<<14|n>>>18)+r<<0)^r))+i[4]-405537848)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+i[9]+568446438)<<5|e>>>27)+t<<0)^t))+i[14]-1019803690)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+i[3]-187363961)<<14|n>>>18)+r<<0)^r))+i[8]+1163531501)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+i[13]-1444681467)<<5|e>>>27)+t<<0)^t))+i[2]-51403784)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+i[7]+1735328473)<<14|n>>>18)+r<<0)^r))+i[12]-1926607734)<<20|t>>>12)+n<<0,t=((t+=((a=(r=((r+=((o=t^n)^(e=((e+=(o^r)+i[5]-378558)<<4|e>>>28)+t<<0))+i[8]-2022574463)<<11|r>>>21)+e<<0)^e)^(n=((n+=(a^t)+i[11]+1839030562)<<16|n>>>16)+r<<0))+i[14]-35309556)<<23|t>>>9)+n<<0,t=((t+=((a=(r=((r+=((o=t^n)^(e=((e+=(o^r)+i[1]-1530992060)<<4|e>>>28)+t<<0))+i[4]+1272893353)<<11|r>>>21)+e<<0)^e)^(n=((n+=(a^t)+i[7]-155497632)<<16|n>>>16)+r<<0))+i[10]-1094730640)<<23|t>>>9)+n<<0,t=((t+=((a=(r=((r+=((o=t^n)^(e=((e+=(o^r)+i[13]+681279174)<<4|e>>>28)+t<<0))+i[0]-358537222)<<11|r>>>21)+e<<0)^e)^(n=((n+=(a^t)+i[3]-722521979)<<16|n>>>16)+r<<0))+i[6]+76029189)<<23|t>>>9)+n<<0,t=((t+=((a=(r=((r+=((o=t^n)^(e=((e+=(o^r)+i[9]-640364487)<<4|e>>>28)+t<<0))+i[12]-421815835)<<11|r>>>21)+e<<0)^e)^(n=((n+=(a^t)+i[15]+530742520)<<16|n>>>16)+r<<0))+i[2]-995338651)<<23|t>>>9)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+i[0]-198630844)<<6|e>>>26)+t<<0)|~n))+i[7]+1126891415)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+i[14]-1416354905)<<15|n>>>17)+r<<0)|~e))+i[5]-57434055)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+i[12]+1700485571)<<6|e>>>26)+t<<0)|~n))+i[3]-1894986606)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+i[10]-1051523)<<15|n>>>17)+r<<0)|~e))+i[1]-2054922799)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+i[8]+1873313359)<<6|e>>>26)+t<<0)|~n))+i[15]-30611744)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+i[6]-1560198380)<<15|n>>>17)+r<<0)|~e))+i[13]+1309151649)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+i[4]-145523070)<<6|e>>>26)+t<<0)|~n))+i[11]-1120210379)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+i[2]+718787259)<<15|n>>>17)+r<<0)|~e))+i[9]-343485551)<<21|t>>>11)+n<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=n-1732584194<<0,this.h3=r+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,n,r="",o=this.array(),a=0;a<15;)e=o[a++],t=o[a++],n=o[a++],r+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return e=o[a],r+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()}).call(this,__webpack_require__("8oxB"),__webpack_require__("yLpj"))},h2yo:function(e,t,n){"use strict";n.r(t);var r=n("1OyB"),o=n("vuIU"),a=n("JX7q"),i=n("Ji7U"),c=n("md7G"),s=n("foSv"),l=n("rePB"),u=n("q1tI"),d=n.n(u),p=n("a6RD"),f=n.n(p),h=n("NC75"),g=n("QJIx"),b=n("aQzX"),m=n("zhJZ"),v=d.a.createElement;function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var o=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var C=f()((function(){return Promise.all([n.e(14),n.e(24),n.e(278)]).then(n.bind(null,"Ey1B"))}),{loading:function(){return v("div",null,"Loading...")},loadableGenerated:{webpack:function(){return["Ey1B"]},modules:["./markdownEditorInEdit"]}}),w=function(e){Object(i.a)(n,e);var t=j(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),Object(l.a)(Object(a.a)(e),"getInitialShowPreviewState",(function(){return null==m.a("showMarkdownEditorPreview")||JSON.parse(m.a("showMarkdownEditorPreview"))})),Object(l.a)(Object(a.a)(e),"propsToState",(function(e,t){return{text:e.content.text,mdHtml:e.content.mdHtml,onlyCodeChanged:t,cursorPosition:e.content.cursorPosition}})),Object(l.a)(Object(a.a)(e),"state",O(O({isSpellCheckEnabled:!0,content:O({},e.props.content)},e.propsToState(e.props,!1)),{},{showPreview:e.getInitialShowPreviewState(),textAreaCursor:0})),Object(l.a)(Object(a.a)(e),"onMarkdownUpdated",(function(t){if(t){var n=t.mdText,r=t.mdHtml,o=t.cursorPosition,a=t.reFocus,i=void 0===a?null:a,c=t.splitInTwo;void 0!==n&&(void 0!==c&&c||"edit"===e.props.mode)&&e.setState((function(e){return{content:O(O({},e.content),{},{text:n,mdHtml:r,cursorPosition:o})}}),(function(){var t,n,r;i&&(null===(t=e.inEdit)||void 0===t||null===(n=t.textAreaElemRef)||void 0===n||null===(r=n.current)||void 0===r||r.focus())}))}})),Object(l.a)(Object(a.a)(e),"onBlurMarkdownUpdated",(function(t){if(t){var n=t.mdText,r=t.mdHtml,o=t.cursorPosition,a=void 0===o?e.state.content.cursorPosition:o,i=t.reFocus,c=void 0===i?null:i,s=t.splitInTwo;void 0!==n&&(void 0!==s&&s||"edit"===e.props.mode)&&(n===e.props.content.text&&a===e.props.content.cursorPosition||e.props.updateContentState({text:n,mdHtml:r,cursorPosition:a},(function(){var t,n,r;c&&(null===(t=e.inEdit)||void 0===t||null===(n=t.textAreaElemRef)||void 0===n||null===(r=n.current)||void 0===r||r.focus())})))}})),Object(l.a)(Object(a.a)(e),"inEdit",void 0),Object(l.a)(Object(a.a)(e),"getMDHtml",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=t?e.state.content:e.props.content,r=n.mdHtml,o='<p style="font-size:16px;color:#ddd"><i>',a=!!e.props.config&&e.props.config.inEditor;return a&&(null!==r&&""!==r||(r="".concat(o).concat(e.props.placeholder,"</i></p>"))),r})),Object(l.a)(Object(a.a)(e),"saveWidgetsData",(function(t){e.props.saveWidgetUserData(t,{compId:e.state.content.comp_id,reset:!1})})),Object(l.a)(Object(a.a)(e),"toggleSpellCheck",(function(){e.setState({isSpellCheckEnabled:!e.state.isSpellCheckEnabled})})),Object(l.a)(Object(a.a)(e),"getViewerBackgroundColor",(function(e){var t=null,n=e.match(/<!--backgroundColor:'([\s\S]*?)'-->/);return n&&(t=n[1]),t})),e}return Object(o.a)(n,[{key:"saveComponent",value:function(){var e=this.state.content,t=e.text,n=e.mdHtml,r=e.cursorPosition;this.props.updateContentState({text:t,mdHtml:n,cursorPosition:r})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.config,o=n.mode,a=n.fullScreen,i=n.toggleFullScreen,c=n.fullscreenIconToggle,s=n.comps,l=n.index,u=n.hash,d=n.focusOnMount,p=this.state,f=p.content,g=p.onlyCodeChanged,m=p.textAreaCursor,y=p.showPreview,O=f.text,j=f.mdHtml,w=f.cursorPosition,x=!!r&&r.inEditor,k=!!r&&r.inQuiz,E=r?r.title:void 0,S=a?b.a:b.h;if("edit"!==o){var _=this.getViewerBackgroundColor(j);return v(h.a,{authorId:this.props.authorId,collectionId:this.props.collectionId,saveHighlights:this.saveWidgetsData,default_themes:this.props.default_themes,contentSnapshot:this.props.contentSnapshot,docker:this.props.docker,mdHtml:this.getMDHtml(!1),logWidgetInteraction:this.props.logWidgetInteraction,isShot:this.props.isShot,userThemes:this.props.userThemes,backgroundColor:_,positionedLeft:this.props.positionedLeft,isUsedInColumn:this.props.highlights,conceptIdBacktrace:this.props.conceptIdBacktrace,isDraft:this.props.isDraft,widthOfComp:this.props.widthOfComp,widthOfOtherComp:this.props.widthOfOtherComp})}var I=(s&&s.length-1)===l;return v(S,null,v(C,{fullScreen:a,fullscreenIconToggle:c,text:O,mdHtml:j,cursorPosition:w,isSpellCheckEnabled:this.state.isSpellCheckEnabled,toggleSpellCheck:this.toggleSpellCheck,onUpdate:this.onMarkdownUpdated,onExpand:i,getMDHtml:this.getMDHtml,default_themes:this.props.default_themes,placeholder:this.props.placeholder,dispatch:this.props.dispatch,isDraft:this.props.isDraft,pageId:this.props.pageId,authorId:this.props.authorId,collectionId:this.props.collectionId,shotId:this.props.shotId,editorPageId:this.props.editorPageId,setFocus:x&&d,userId:this.props.userId,docker:this.props.docker,index:l,hash:u,isInConceptEditor:this.props.isInConceptEditor,conceptIdBacktrace:this.props.conceptIdBacktrace,isLastWidgetOnPage:I,inAssessment:null===(e=this.props.config)||void 0===e?void 0:e.inAssessment,inQuiz:k,title:E,onBlur:this.onBlurMarkdownUpdated,onlyCodeChanged:g,textAreaCursor:m,showPreview:y,setState:function(){return t.setState.apply(t,arguments)}}))}}],[{key:"getComponentDefault",value:function(){return g.a}}]),n}(d.a.Component);Object(l.a)(w,"defaultProps",{placeholder:"Write here ...",docker:{},logWidgetInteraction:function(){return null},userThemes:null,highlights:!1,positionedLeft:null,isInConceptEditor:!1,conceptIdBacktrace:[],widthOfComp:50,widthOfOtherComp:50,saveWidgetUserData:function(){return null},focusOnMount:!0}),t.default=w},ihVS:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("17x9"),i=n.n(a);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,a=e.size,i=void 0===a?24:a,l=s(e,["color","size"]);return o.a.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),o.a.createElement("path",{d:"M12 20h9"}),o.a.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}))}));l.propTypes={color:i.a.string,size:i.a.oneOfType([i.a.string,i.a.number])},l.displayName="Edit3",t.a=l},jt9Z:function(e,t,n){"use strict";var r=n("rePB"),o=n("Ff2n"),a=n("fNkK"),i=n("As5v"),c=sessionStorage.getItem("demo");c||(sessionStorage.setItem("demo",JSON.stringify({summary:{commentsCount:0,description:"",title:"",tags:"",shareCount:0,likesCount:0,viewCount:0,author:"fahim",date:"Fri Jul 31 2015"},components:[{id:1438383993168,mode:"view",content:{root:{content:"2",left_child:{content:"1",left_child:null,fillcolor:"#caff70",color:"#caff70",id:"node_1438383937235",right_child:null,shape:"Mrecord"},fillcolor:"#caff70",color:"#caff70",id:"node_1438383937234",right_child:{content:"3",left_child:null,fillcolor:"#caff70",color:"#caff70",id:"node_1438383937236",right_child:null,shape:"Mrecord"},shape:"Mrecord"},caption:"",version:"1.0"},type:"BinaryTree"}]})),c=sessionStorage.getItem("demo"));var s=[{isMyRequest:function(e){return-1!==e.url.indexOf("fakeUploadUrl")&&"POST"===e.type},response:function(e){return JSON.stringify({image_id:1,file_name:"coverImage"})}},{isMyRequest:function(e){return-1!==e.url.indexOf("image/upload/url")&&"GET"===e.type},response:function(e){return JSON.stringify({image_id:1,page_id:5207287069147136,upload_url:"fakeUploadUrl"})}},{isMyRequest:function(e){return"/api/user/info"===e.url&&"GET"===e.type},response:function(){return JSON.stringify({user_id:null,email:"test@test.com",full_name:"Educative Author",user_name:null,isDemo:!0})}},{isMyRequest:function(e){return 0===e.url.indexOf("/api/author/page/")&&"PUT"===e.type},action:function(e){var t=e.data,n=JSON.parse(Object(i.inflate)(t,{to:"string",level:9})).page_content;sessionStorage.setItem("demo",n)},response:function(){return""}},{isMyRequest:function(e){return 0===e.url.indexOf("/api/author/page/")&&"GET"===e.type},response:function(){return JSON.parse(sessionStorage.getItem("demo"))}},{isMyRequest:function(e){return 0===e.url.indexOf("/api/author/profile")&&"GET"===e.type},response:function(){return JSON.stringify({facebook:null,short_bio:null,cover_image_id:null,full_name:"Educative Author",profile_image_id:null,linkedin:null,twitter:null,github:null,full_bio:null,website:null})}}],l=function(e){return new Promise((function(t,n){var r=s.find((function(t){return t.isMyRequest(e)}));r||(console.log(e),new Error("Expected some reaction from fake server"),n()),r.action&&r.action(e),t(r.response(e))}))},u=n("4E7A"),d=n("BNIU"),p=n("N+2e"),f=n("Vgjn"),h=n("SuWi");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return function(t){return function(n){if(!function(e){if(!e)return!1;var t=e.AJAX_CALL;if("undefined"===typeof t)return!1;var n=t.url,r=t.type;return!(!n||!r)}(n))return t(n);var i=n.AJAX_CALL,c=i.url,s=i.type,g=i.getHeaders,m=i.data,v=i.processData,y=i.contentType,O=i.overrideAjaxMode,j=i.isDemo,C=Object(o.a)(i,["url","type","getHeaders","data","processData","contentType","overrideAjaxMode","isDemo"]),w=e.getState().ajaxMode.enabled,x=j||!w&&!O?l:a.a;return t(Object(r.a)({},h.a,b(b({},C),{},{promise:function(){return x({url:c,type:s,data:m,processData:v,contentType:y},g).then((function(t){return g&&t.xhr&&"p"===c[12]?e.dispatch(u.a.updateETag(t.xhr.headers.get(f.a))):g&&t.xhr&&c.includes("page/editor")?e.dispatch(p.b.updateETag(t.xhr.headers.get(f.a))):g&&t.xhr&&e.dispatch(d.a.updateETag(t.xhr.headers.get(f.a))),t}))}})))}}}},pQ8y:function(e,t,n){"use strict";var r=n("wx14"),o=n("zLVn"),a=n("dI71");n("17x9");function i(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var c=n("q1tI"),s=n.n(c),l=n("dRu9"),u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=i(n.className,r):n.setAttribute("class",i(n.className&&n.className.baseVal||"",r)));var n,r}))},d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1];t.removeClasses(o,"exit"),t.addClass(o,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1]?"appear":"enter";t.addClass(o,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1]?"appear":"enter";t.removeClasses(o,a),t.addClass(o,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,o=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}Object(a.a)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,a=n.done;this.appliedClasses[t]={},r&&u(e,r),o&&u(e,o),a&&u(e,a)},n.render=function(){var e=this.props,t=(e.classNames,Object(o.a)(e,["classNames"]));return s.a.createElement(l.a,Object(r.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.a.Component);d.defaultProps={classNames:""},d.propTypes={};t.a=d},t99M:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("17x9"),i=n.n(a);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,a=e.size,i=void 0===a?24:a,l=s(e,["color","size"]);return o.a.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),o.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),o.a.createElement("polyline",{points:"14 2 14 8 20 8"}),o.a.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),o.a.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),o.a.createElement("polyline",{points:"10 9 9 9 8 9"}))}));l.propTypes={color:i.a.string,size:i.a.oneOfType([i.a.string,i.a.number])},l.displayName="FileText",t.a=l},ukoL:function(e,t,n){"use strict";n.r(t),n.d(t,"vsDark",(function(){return r})),n.d(t,"vsLight",(function(){return o})),n.d(t,"educative",(function(){return a}));var r={name:"vsDark",config:{base:"vs-dark",inherit:!0,rules:[]},background:"#1e1e1e",colorizeTheme:"vs-dark"},o={name:"vsLight",config:{base:"vs",inherit:!0,rules:[]},background:"#fff",colorizeTheme:"vs"},a={name:"educative",config:{base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"ffa500",fontStyle:"italic bold"},{token:"comment.js",foreground:"008800",fontStyle:"bold"},{token:"comment.css",foreground:"0000ff"},{token:"custom-info",foreground:"808080"},{token:"custom-error",foreground:"ff0000",fontStyle:"bold"},{token:"custom-notice",foreground:"FFA500"},{token:"custom-date",foreground:"008800"}]}}},vIBk:function(e,t,n){"use strict";var r=n("rePB"),o=n("mSIx"),a=n("9dyO"),i=n("fDKo"),c=n("dU21"),s=n("H3mV"),l=n("BykT"),u=n("BNIU"),d=n("RsOY"),p=n.n(d),f=n("N+2e"),h=n("+ylz");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=[],v=[],y={},O=!1,j=[];t.a=function(e){return function(t){return function(n){var d,g,C,w,x,k,E,S,_,I,N;if(n.type===a.a.reset.type||n.type===c.b.clear.type||n.type===f.b.clear.type||n.type===h.b.clear.type)return y={},O=!1,e.dispatch(i.b.reset()),t(n);if(n.type===a.a.set.type)return m=null===n||void 0===n||null===(g=n.payload)||void 0===g||null===(C=g.instance)||void 0===C||null===(w=C.details)||void 0===w?void 0:w.api_keys,v=null===n||void 0===n||null===(x=n.payload)||void 0===x||null===(k=x.instance)||void 0===k||null===(E=k.details)||void 0===E||null===(S=E.docker)||void 0===S?void 0:S.envs,t(n);n.type===c.b.fulfilled.type&&(y.shotId=n.payload.shotId,v=null===n||void 0===n||null===(_=n.payload)||void 0===_||null===(I=_.docker)||void 0===I?void 0:I.envs);[f.b.fulfilled.type,h.b.fulfilled.type].includes(n.type)&&(y.editorPageId=n.payload.marketing_page_id,m=JSON.parse((null===(N=n.payload)||void 0===N?void 0:N.api_keys)||"[]"));if((!m||!m.length)&&(!v||!v.length))return t(n);if(n.type===i.b.fulfilled.type&&(O=!0),![s.b,l.a,u.a,c.b,f.b,h.b].map((function(e){return e.fulfilled.type})).includes(n.type))return t(n);if([u.a,s.b,c.b,f.b,h.b].map((function(e){return e.fulfilled.type})).includes(n.type)){if(!n.payload.components&&!n.payload.content&&!n.payload.marketing_page_content)return t(n);var D=n.payload.components||n.payload.content||n.payload.marketing_page_content;j=D.map((function(e){var t=e;if(["Code","WebpackBin","RunJS","TerminalWidget","TabbedCode"].includes(t.type))if("TabbedCode"===t.type){var n,o,a=(null===(n=t)||void 0===n||null===(o=n.content)||void 0===o?void 0:o.codeContents)||{};a.forEach((function(e,t){var n=(null===e||void 0===e?void 0:e.selectedApiKeys)||{},o=m.reduce((function(e,t){return t.id in n?b(b({},e),{},Object(r.a)({},t.id,n[t.id])):e}),{});a=p()(a,Object(r.a)({},t,{selectedApiKeys:{$set:o}}))})),t=p()(t,{content:{codeContents:{$set:a}}})}else{var i,c,s=(null===(i=t)||void 0===i||null===(c=i.content)||void 0===c?void 0:c.selectedApiKeys)||{},l=m.reduce((function(e,t){return t.id in s?b(b({},e),{},Object(r.a)({},t.id,s[t.id])):e}),{});t=p()(t,{content:{selectedApiKeys:{$set:l}}})}return t}))}return n.type!==s.b.fulfilled.type&&n.type!==u.a.fulfilled.type||(y.compIds=n.payload.components.map((function(e){return e.content.comp_id})).filter(Boolean)),n.type===c.b.fulfilled.type&&(y.compIds=n.payload.content.map((function(e){return e.content.comp_id})).filter(Boolean)),[f.b.fulfilled.type,h.b.fulfilled.type].includes(n.type)&&(y.compIds=n.payload.marketing_page_content.map((function(e){return e.content.comp_id})).filter(Boolean)),n.type===l.a.fulfilled.type&&(y.authorId=n.payload.author_id,y.collectionId=n.payload.collection_id),(null===(d=y.compIds)||void 0===d?void 0:d.length)&&(y.authorId&&y.collectionId||y.shotId||y.editorPageId)&&!O&&e.dispatch(Object(o.a)({params:y,apiKeys:m,envKeys:v})),n.payload.components?t(b(b({},n),{},{payload:b(b({},n.payload),{},{components:j})})):t(n)}}}},z430:function(e,t,n){"use strict";var r=n("wx14"),o=n("zLVn"),a=n("q1tI"),i=a.useLayoutEffect,c=function(e){var t=Object(a.useRef)(e);return i((function(){t.current=e})),t},s=function(e,t){"function"!==typeof e?e.current=t:e(t)},l=function(e,t){var n=Object(a.useRef)();return Object(a.useCallback)((function(r){e.current=r,n.current&&s(n.current,null),n.current=t,t&&s(t,r)}),[t])},u={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},d=function(e){Object.keys(u).forEach((function(t){e.style.setProperty(t,u[t],"important")}))},p=null;var f=function(){},h=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],g=!!document.documentElement.currentStyle,b=function(e,t){var n=e.cacheMeasurements,i=e.maxRows,s=e.minRows,u=e.onChange,b=void 0===u?f:u,m=e.onHeightChange,v=void 0===m?f:m,y=Object(o.a)(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var O=void 0!==y.value,j=Object(a.useRef)(null),C=l(j,t),w=Object(a.useRef)(0),x=Object(a.useRef)(),k=function(){var e=j.current,t=n&&x.current?x.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,h.reduce((function(e,t){return e[t]=n[t],e}),{})),o=r.boxSizing;return""===o?null:(g&&"border-box"===o&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){x.current=t;var r=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),p||((p=document.createElement("textarea")).setAttribute("tab-index","-1"),p.setAttribute("aria-hidden","true"),d(p)),null===p.parentNode&&document.body.appendChild(p);var o=e.paddingSize,a=e.borderSize,i=e.sizingStyle,c=i.boxSizing;Object.keys(i).forEach((function(e){var t=e;p.style[t]=i[t]})),d(p),p.value=t;var s=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(p,e);p.value="x";var l=p.scrollHeight-o,u=l*n;"border-box"===c&&(u=u+o+a),s=Math.max(u,s);var f=l*r;return"border-box"===c&&(f=f+o+a),[s=Math.min(f,s),l]}(t,e.value||e.placeholder||"x",s,i),o=r[0],a=r[1];w.current!==o&&(w.current=o,e.style.setProperty("height",o+"px","important"),v(o,{rowHeight:a}))}};return Object(a.useLayoutEffect)(k),function(e){var t=c(e);Object(a.useEffect)((function(){var e=function(e){t.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])}(k),Object(a.createElement)("textarea",Object(r.a)({},y,{onChange:function(e){O||k(),b(e)},ref:C}))},m=Object(a.forwardRef)(b);t.a=m},zEHM:function(e,t,n){"use strict";(function(e){var r=n("KQm4"),o=n("i7Pf"),a=n("PvLm"),i=n("SuWi"),c=n("396a"),s=n("MCbV"),l=n("VRBI"),u=n("jt9Z"),d=n("ZwUw"),p=n("StAi"),f=n("vIBk"),h=[].concat(Object(r.a)(Object(o.c)({serializableCheck:{ignoredActions:["widgets/updateContentState"]}})),[c.b,u.a,i.b,l.a,s.a,d.a,p.a,f.a]),g=Object(o.a)({reducer:a.a,middleware:h,devTools:!1});e.store=g,t.a=g}).call(this,n("yLpj"))}}]);
//# sourceMappingURL=233.e274e39ab4cd963534da.js.map